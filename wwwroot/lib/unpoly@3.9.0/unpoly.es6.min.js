(()=>{var t={5941:()=>{},7433:()=>{},7921:()=>{},7298:()=>{},2903:()=>{},573:()=>{},2811:()=>{up.browser={submitForm:function(t){t.submit()},canPushState:function(){return"GET"===up.protocol.initialRequestMethod()},canJQuery:function(){return!!window.jQuery},assertConfirmed:function(t){if(t.confirm&&!window.confirm(t.confirm))throw new up.Aborted("User canceled action");return!0},popCookie:function(t){var e;let n=null===(e=document.cookie.match(new RegExp(t+"=(\\w+)")))||void 0===e?void 0:e[1];if(n)return document.cookie=t+"=;Max-Age=0;Path=/",n},canHasSelector:up.util.memoize((()=>CSS.supports("selector(:has(*))")))}},6346:()=>{const t=up.element;up.BodyShifter=class BodyShifter{constructor(){this.t=new Set,this.i=0,this.o=[]}lowerStack(){0==--this.i&&this.u()}raiseStack(){1==++this.i&&this.h()}onAnchoredElementInserted(t){return this.t.add(t),this.l(t,"right"),()=>this.t.delete(t)}p(){return this.m&&this.i>0}h(){this.m=up.viewport.rootScrollbarWidth(),this.o.push(t.setTemporaryStyle(t.root,{"--up-scrollbar-width":this.m+"px"})),this.l(document.body,"padding-right");for(let t of this.t)this.l(t,"right")}l(e,n){if(!this.p())return;let i=t.style(e,n);this.o.push(t.setTemporaryStyle(e,{["--up-original-"+n]:i}),t.addTemporaryClass(e,"up-scrollbar-away"))}u(){let t;for(;t=this.o.pop();)t()}}},7948:()=>{const t=up.util,e=up.element;up.Change.Addition=class Addition extends up.Change{constructor(t){super(t),this.v=t.acceptLayer,this._=t.dismissLayer,this.O=t.eventPlans||[],this.k=t.response}handleLayerChangeRequests(){this.layer.isOverlay()&&(this.tryAcceptLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryAcceptForLocation(this.responseOption()),this.abortWhenLayerClosed(),this.tryDismissLayerFromServer(),this.abortWhenLayerClosed(),this.layer.tryDismissForLocation(this.responseOption()),this.abortWhenLayerClosed()),this.layer.asCurrent((()=>{for(let t of this.O)up.emit(Object.assign(Object.assign({},t),this.responseOption())),this.abortWhenLayerClosed()}))}tryAcceptLayerFromServer(){t.isDefined(this.v)&&this.layer.isOverlay()&&this.layer.accept(this.v,this.responseOption())}tryDismissLayerFromServer(){t.isDefined(this._)&&this.layer.isOverlay()&&this.layer.dismiss(this._,this.responseOption())}abortWhenLayerClosed(t=this.layer){if(t.isClosed())throw new up.Aborted("Layer was closed")}setSource({oldElement:t,newElement:n,source:i}){"keep"===i&&(i=t&&up.fragment.source(t)),i&&e.setMissingAttr(n,"up-source",up.fragment.normalizeSource(i))}setTime({newElement:t,time:n}){e.setMissingAttr(t,"up-time",!!n&&n.toUTCString())}setETag({newElement:t,etag:n}){e.setMissingAttr(t,"up-etag",n||!1)}setReloadAttrs(t){this.setSource(t),this.setTime(t),this.setETag(t)}responseOption(){return{response:this.k}}executeSteps(t,e,n){return new up.Change.UpdateSteps({steps:t,noneOptions:n}).execute(e)}}},3030:()=>{const t=up.util;up.Change=class Change{constructor(t){this.options=t}execute(){throw new up.NotImplemented}onFinished(t){var e,n;return null===(n=(e=this.options).onFinished)||void 0===n?void 0:n.call(e,t)}improveHistoryValue(e,n){return!1===e||t.isString(e)?e:n}deriveFailOptions(){return up.RenderOptions.deriveFailOptions(this.options)}}},7422:()=>{const t=up.util;up.Change.CloseLayer=class CloseLayer extends up.Change.Removal{constructor(t){var e,n;super(t),this.S=t.verb,this.j=up.layer.get(t),this.C=t.origin,this.F=t.value,this.T=null===(e=t.preventable)||void 0===e||e,this.k=t.response,this.R=null===(n=t.history)||void 0===n||n}execute(){if(!this.j.isOpen())return Promise.resolve();if(up.browser.assertConfirmed(this.options),this.P().defaultPrevented&&this.T)throw new up.Aborted("Close event was prevented");this.A(),up.fragment.abort({reason:"Layer is closing",layer:this.j});const{parent:t}=this.j;this.j.peel(),this.j.stack.remove(this.j),this.R&&t.restoreHistory(),this.L(t),this.j.teardownHandlers(),this.j.destroyElements(this.options),this.$(t)}P(){let e=this.j.emit(this.D(`up:layer:${this.S}`),{callback:this.j.callback(`on${t.upperCaseFirst(this.S)}`),log:[`Will ${this.S} ${this.j} with value %o`,this.F]});return this.F=e.value,e}A(){let t=this.D(`up:layer:${this.S}ing`);this.j.emit(t,{log:!1})}$(e){const n=`${this.S}ed`,i=t.upperCaseFirst(n);return this.j.emit(this.D(`up:layer:${n}`),{baseLayer:e,callback:this.j.callback(`on${i}`),ensureBubbles:!0,log:[`${i} ${this.j} with value %o`,this.F]})}D(t){return up.event.build(t,{layer:this.j,value:this.F,origin:this.C,response:this.k})}L(t){var e;this.j.overlayFocus.teardown(),null===(e=t.overlayFocus)||void 0===e||e.moveToFront();let n=this.j.origin||t.element;up.focus(n,{preventScroll:!0})}}},8228:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};up.Change.DestroyFragment=class DestroyFragment extends up.Change.Removal{constructor(t){super(t),this.j=up.layer.get(t)||up.layer.current,this.H=this.options.element,this.N=this.options.animation,this.q=this.options.log}execute(){this.B=this.H.parentNode,up.fragment.markAsDestroying(this.H),up.motion.willAnimate(this.H,this.N,this.options)?this.U():this.I()}U(){return t(this,void 0,void 0,(function*(){this.K(),yield this.V(),this.X(),this.onFinished()}))}I(){this.X(),this.K(),this.onFinished()}V(){return up.motion.animate(this.H,this.N,this.options)}X(){this.j.asCurrent((()=>{up.fragment.abort(this.H),up.script.clean(this.H,{layer:this.j}),up.element.cleanJQuery(this.H),this.H.remove()}))}K(){up.fragment.emitDestroyed(this.H,{parent:this.B,log:this.q})}}},9005:()=>{var t;const e=up.util;up.Change.FromContent=(t=class FromContent extends up.Change{constructor(t){super(t),this.C=t.origin,this.W=t.preview,this.J=t.layers}G(){let t=[];return this.Y(),this.Z(),this.tt(t,this.J,this.options.target),this.tt(t,this.J,this.options.fallback),t}et(t){return"new"===t||t.isOpen()}Y(){this.J=e.filter(this.J,this.et)}tt(t,e,n){for(let i of e)for(let e of this.nt(n,i)){const n=Object.assign(Object.assign({},this.options),{target:e,layer:i,defaultPlacement:this.it()}),s="new"===i?new up.Change.OpenLayer(n):new up.Change.UpdateLayer(n);t.push(s)}}nt(t,e){return up.fragment.expandTargets(t,{layer:e,mode:this.options.mode,origin:this.C})}execute(){return this.options.preload?Promise.resolve():this.st(this.rt.bind(this))||this.ot()}rt(t){let e=t.execute(this.ut(),this.ct.bind(this,t));return e.options=this.options,e}ht(t){return!(t instanceof up.CannotMatch)}ct(t){var e,n;let i=this.G()[0];t!==i&&up.puts("up.render()",'Could not match primary target "%s". Updating a fallback target "%s".',i.target,t.target);let{assets:s}=this.ut();s&&up.script.assertAssetsOK(s,t.options),null===(n=(e=this.options).onRender)||void 0===n||n.call(e)}ut(){var t,n;if(this.W)return;const i=e.pick(this.options,["target","content","fragment","document","html","cspNonces","origin"]);return null===(n=(t=up.migrate).handleResponseDocOptions)||void 0===n||n.call(t,i),"content"===this.it()&&(i.target=this.lt(i.target)),new up.ResponseDoc(i)}Z(){var t;if(this.W)return;let e=this.ut();this.options.fragment&&((t=this.options).target||(t.target=e.rootSelector())),this.options.title=this.improveHistoryValue(this.options.title,e.title),this.options.metaTags=this.improveHistoryValue(this.options.metaTags,e.metaTags),this.options.lang=this.improveHistoryValue(this.options.lang,e.lang)}it(){if(!this.options.document&&!this.options.fragment)return"content"}lt(t){let e=this.J[0]||up.layer.root;return this.nt(t||":main",e)[0]}getPreflightProps(t={}){return this.st((t=>t.getPreflightProps()))||t.optional||this.ft()}ft(){this.dt("Could not find target in current page")}ot(){this.dt("Could not find common target in current page and response")}dt(t){if(this.G().length){const n=e.uniq(e.map(this.G(),"target")),i=up.layer.optionToString(this.options.layer);throw new up.CannotMatch([t+" (tried selectors %o in %s)",n,i])}if(0!==this.J.length)throw this.options.failPrefixForced?new up.CannotMatch("No target selector given for failed responses (https://unpoly.com/failed-responses)"):new up.CannotMatch("No target selector given");this.gt()}gt(){throw new up.CannotMatch("Could not find a layer to render in. You may have passed an unmatchable layer reference, or a detached element.")}st(t){for(let e of this.G())try{return t(e)}catch(t){if(this.ht(t))throw t}}},e.memoizeMethod(t.prototype,{G:!0,ut:!0,getPreflightProps:!0}),t)},278:function(){var t,e=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};const n=up.util;up.Change.FromResponse=(t=class FromResponse extends up.Change{constructor(t){super(t),this.k=t.response,this.vt=this.k.request}execute(){var t;if(up.fragment.config.skipResponse(this.bt())?this.yt():this.vt.assertEmitted("up:fragment:loaded",Object.assign(Object.assign({},this.bt()),{callback:this.options.onLoaded,log:["Loaded fragment from %s",this.k.description],skip:()=>this.yt()})),null!==(t=n.evalOption(this.options.fail,this.k))&&void 0!==t?t:!this.k.ok)throw this.wt(this.deriveFailOptions());return this.wt(this.options)}yt(){up.puts("up.render()","Skipping "+this.k.description),this.options.target=":none",this.options.failTarget=":none"}wt(t){t.failPrefixForced&&up.puts("up.render()","Rendering failed response using fail-prefixed options (https://unpoly.com/failed-responses)"),this._t(t),t.meta=this.Ot();let e=new up.Change.FromContent(t).execute();return e.finished=this.finish(e,t),e}finish(t,n){return e(this,void 0,void 0,(function*(){return t=yield t.finished,up.fragment.shouldRevalidate(this.vt,this.k,n)&&(t=yield this.kt(t,n)),t}))}kt(t,n){return e(this,void 0,void 0,(function*(){let e=n.target,i=t.target;if(/:(before|after)/.test(e))up.warn("up.render()","Cannot revalidate cache when prepending/appending (target %s)",e);else{up.puts("up.render()",'Revalidating cached response for target "%s"',i);let e=yield up.reload(i,Object.assign(Object.assign({},n),{preferOldElements:t.fragments,layer:t.layer,onFinished:null,scroll:!1,focus:"keep",transition:!1,cache:!1,confirm:!1,feedback:!1,abort:!1,expiredResponse:this.k}));e.none||(t=e)}return t}))}bt(){const{expiredResponse:t}=this.options;return{request:this.vt,response:this.k,renderOptions:this.options,revalidating:!!t,expiredResponse:t}}Ot(){var t,e;let n={revalidating:!!this.options.expiredResponse};return null===(e=(t=up.migrate).processCompilerPassMeta)||void 0===e||e.call(t,n,this.k),n}_t(t){var e,i;const s=this.k.url;let r=s,o=this.vt.hash;o&&(t.hash=o,r+=o),"GET"===this.k.method?t.source=this.improveHistoryValue(t.source,s):(t.source=this.improveHistoryValue(t.source,"keep"),t.history=!!t.location),t.location=this.improveHistoryValue(t.location,r),t.title=this.improveHistoryValue(t.title,this.k.title),t.eventPlans=this.k.eventPlans;let u=this.k.target;u&&(t.target=u),t.acceptLayer=this.k.acceptLayer,t.dismissLayer=this.k.dismissLayer,t.document=this.k.text,this.k.none&&(t.target=":none"),t.context=n.merge(t.context,this.k.context),t.cspNonces=this.k.cspNonces,null!==(e=t.time)&&void 0!==e||(t.time=this.k.lastModified),null!==(i=t.etag)&&void 0!==i||(t.etag=this.k.etag)}},n.memoizeMethod(t.prototype,{bt:!0}),t)},2200:()=>{var t;const e=up.util;up.Change.FromURL=(t=class FromURL extends up.Change{execute(){var t,n;let i=this.St();return i?(up.puts("up.render()",i),up.network.loadPage(this.options),e.unresolvablePromise()):(this.request=up.request(this.xt()),null===(n=(t=this.options).onRequest)||void 0===n||n.call(t,this.request),up.feedback.showAroundRequest(this.request,this.options),up.form.disableWhile(this.request,this.options),this.options.preload?this.request:e.always(this.request,(t=>this.Et(t))))}St(){return e.isCrossOrigin(this.options.url)?"Loading cross-origin content in new page":this.options.history&&!up.browser.canPushState()?"Loading content in new page to restore history support":void 0}xt(){const t=this.jt(this.options),n=this.jt(this.deriveFailOptions(),{optional:!0});return Object.assign(Object.assign(Object.assign({},this.options),t),e.renameKeys(n,up.fragment.failKey))}getPreflightProps(){return this.xt()}jt(t,e){return new up.Change.FromContent(Object.assign(Object.assign({},t),{preview:!0})).getPreflightProps(e)}Et(t){return t instanceof up.Response?this.Ct(t):this.Ft(t)}Ct(t){return new up.Change.FromResponse(Object.assign(Object.assign({},this.options),{response:t})).execute()}Ft(t){throw t instanceof up.Offline&&this.request.emit("up:fragment:offline",{callback:this.options.onOffline,renderOptions:this.options,retry:t=>up.render(Object.assign(Object.assign({},this.options),t)),log:["Cannot load fragment from %s: %s",this.request.description,t.reason]}),t}},e.memoizeMethod(t.prototype,{xt:!0}),t)},7050:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};let e=up.util;up.Change.OpenLayer=class OpenLayer extends up.Change.Addition{constructor(t){super(t),this.target=t.target,this.C=t.origin,this.Tt=t.baseLayer}getPreflightProps(){return{mode:this.options.mode,context:this.Rt().context,origin:this.options.origin,target:this.target,layer:this.Tt,fragments:e.compact([up.fragment.get(":main",{layer:this.Tt})]),newLayer:!0}}execute(t,e){this.responseDoc=t,this.Pt(),e(),this.At();let n=this.layer.on("up:layer:accepting up:layer:dimissing",this.Lt.bind(this));try{return this.$t(),this.Lt(),up.RenderResult.both(this.Dt,this.Mt)}finally{n()}}Pt(){if(":none"===this.target?this.Ht=document.createElement("up-none"):this.Ht=this.responseDoc.select(this.target),!this.Ht||this.Tt.isClosed())throw new up.CannotMatch}At(){up.puts("up.render()",`Opening element "${this.target}" in new overlay`),this.Nt(),this.layer=this.Rt(),this.Tt.peel({history:!this.layer.history}),up.layer.stack.push(this.layer),this.layer.createElements(),this.layer.setupHandlers()}$t(){this.qt(),this.handleLayerChangeRequests(),this.responseDoc.commitElement(this.Ht),this.layer.setContent(this.Ht),this.setReloadAttrs({newElement:this.Ht,source:this.options.source}),this.responseDoc.finalizeElement(this.Ht),this.Dt=new up.RenderResult({layer:this.layer,fragments:[this.Ht],target:this.target}),up.hello(this.layer.element,Object.assign(Object.assign({},this.options),{layer:this.layer})),this.Bt(),this.Dt.finished=this.Ut(),this.layer.opening=!1,this.zt(),this.abortWhenLayerClosed()}Lt(){if(this.Mt)return;let t=this.It().other;this.Mt=this.executeSteps(t,this.responseDoc)}Ut(){return t(this,void 0,void 0,(function*(){return yield this.layer.startOpenAnimation(),this.abortWhenLayerClosed(),this.L(),this.Dt}))}Rt(){const t=Object.assign(Object.assign({},this.options),{opening:!0});return up.layer.build(t,(t=>this.options=up.RenderOptions.finalize(t)))}qt(){var t;"auto"===this.layer.history&&(this.layer.history=up.fragment.hasAutoHistory([this.Ht],this.layer));let{parent:e}=this.layer;(t=this.layer).history&&(t.history=e.history),e.saveHistory(),this.layer.updateHistory(this.options)}L(){var t;null===(t=this.Tt.overlayFocus)||void 0===t||t.moveToBack(),this.layer.overlayFocus.moveToFront(),new up.FragmentFocus({fragment:this.Ht,layer:this.layer,autoMeans:["autofocus","layer"],inputDevice:this.options.inputDevice}).process(this.options.focus)}Bt(){const t=Object.assign(Object.assign({},this.options),{fragment:this.Ht,layer:this.layer,autoMeans:["hash","layer"]});new up.FragmentScrolling(t).process(this.options.scroll)}Nt(){up.event.assertEmitted("up:layer:open",{origin:this.C,baseLayer:this.Tt,layerOptions:this.options,log:"Opening new overlay"})}zt(){this.layer.emit("up:layer:opened",{origin:this.C,callback:this.layer.callback("onOpened"),log:`Opened new ${this.layer}`})}It(){return up.radio.hungrySteps(this.Kt())}Kt(){return Object.assign(Object.assign({},this.options),{layer:this.layer,history:this.layer.history})}}},1752:()=>{up.Change.Removal=class Removal extends up.Change{}},9441:()=>{var t;const e=up.util;up.Change.UpdateLayer=(t=class UpdateLayer extends up.Change.Addition{constructor(t){super(t=up.RenderOptions.finalize(t)),this.layer=t.layer,this.target=t.target,this.Vt=t.context,this.Xt=up.fragment.parseTargetSteps(this.target,this.options)}getPreflightProps(){return this.Wt(),{layer:this.layer,mode:this.layer.mode,context:e.merge(this.layer.context,this.Vt),origin:this.options.origin,target:this.Jt(),fragments:this.Gt(),newLayer:!1}}Jt(){return this.Wt(),up.fragment.targetForSteps(this.Xt)}Gt(){return this.Wt(),e.map(this.Xt,"oldElement")}execute(t,e){this.responseDoc=t,this.Pt(),e();let n=this.layer.on("up:layer:accepting up:layer:dimissing",this.Lt.bind(this));try{return this.Qt(),this.Lt(),up.RenderResult.both(this.Yt,this.Mt)}finally{n()}}Qt(){this.Xt.length&&up.puts("up.render()",`Updating "${this.Jt()}" in ${this.layer}`),this.Zt(),this.options.saveScroll&&up.viewport.saveScroll({layer:this.layer}),this.options.saveFocus&&up.viewport.saveFocus({layer:this.layer}),this.options.peel&&this.layer.peel({history:!this.te()}),!1!==this.options.abort&&up.fragment.abort(this.Gt(),{reason:"Fragment is being replaced"}),Object.assign(this.layer.context,this.Vt),this.te()&&this.layer.updateHistory(this.options),this.handleLayerChangeRequests(),this.Yt=this.executeSteps(this.Xt,this.responseDoc,this.options)}Lt(){if(this.Mt)return;let t=this.It().other;this.Mt=this.executeSteps(t,this.responseDoc)}Wt(){this.ee(),this.ne()}Pt(){this.ee(),this.ie(),this.ne(),this.se()}ie(){this.Xt.push(...this.It().current)}ee(){this.Xt=this.Xt.filter((t=>{const n=new up.FragmentFinder(e.pick(t,["selector","origin","layer","match","preferOldElements"]));if(t.oldElement||(t.oldElement=n.find()),t.oldElement)return!0;if(!t.maybe)throw new up.CannotMatch}))}se(){this.Xt=this.responseDoc.selectSteps(this.Xt)}ne(){this.Xt=up.fragment.compressNestedSteps(this.Xt)}It(){return up.radio.hungrySteps(this.Kt())}Zt(){let t=up.FocusCapsule.preserve(this.layer);this.Xt.forEach(((e,n)=>{e.focusCapsule=t,n>0&&(e.scroll=!1,e.focus=!1)}))}te(){return e.evalAutoOption(this.options.history,this.re.bind(this))}re(){const t=e.map(this.Xt,"oldElement");return up.fragment.hasAutoHistory(t,this.layer)}Kt(){return Object.assign(Object.assign({},this.options),{layer:this.layer,history:this.te()})}},e.memoizeMethod(t.prototype,{Wt:!0,ee:!0,te:!0,It:!0}),t)},9489:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};const e=up.util,n=up.element;up.Change.UpdateSteps=class UpdateSteps extends up.Change.Addition{constructor(t){super(t),this.oe=t.noneOptions||{},this.Xt=e.copy(t.steps)}execute(t){var e;if(this.responseDoc=t,this.Xt=t.selectSteps(this.Xt),this.Xt=t.commitSteps(this.Xt),!this.Xt.length)return this.ue();this.renderResult=new up.RenderResult({layer:null===(e=this.Xt[0])||void 0===e?void 0:e.layer,target:up.fragment.targetForSteps(this.Xt)}),this.Xt.reverse();const n=this.Xt.map((t=>this.ce(t)));return this.renderResult.finished=this.Ut(n),this.renderResult}ue(){return this.L(null,this.oe),this.Bt(null,this.oe),up.RenderResult.buildNone()}Ut(e){return t(this,void 0,void 0,(function*(){yield Promise.all(e);for(let t of this.Xt)this.abortWhenLayerClosed(t.layer);return this.renderResult}))}ae(t){let e=t.matches("up-wrapper")?t.children:[t];this.renderResult.fragments.unshift(...e)}ce(t){switch(this.setReloadAttrs(t),t.placement){case"swap":if(this.he(t))return this.L(t.oldElement,t),this.Bt(t.oldElement,t),Promise.resolve();{this.le(t);const e=t.oldElement.parentNode,n=Object.assign(Object.assign({},t),{beforeStart(){up.fragment.markAsDestroying(t.oldElement)},afterInsert:()=>{this.pe(t),this.responseDoc.finalizeElement(t.newElement),this.fe(t),up.hello(t.newElement,t),this.ae(t.newElement)},beforeDetach:()=>{up.script.clean(t.oldElement,{layer:t.layer})},afterDetach(){up.element.cleanJQuery(),up.fragment.emitDestroyed(t.oldElement,{parent:e,log:!1})},scrollNew:()=>{this.L(t.newElement,t),this.Bt(t.newElement,t)}});return up.morph(t.oldElement,t.newElement,t.transition,n)}case"content":{let e=n.wrapChildren(t.oldElement),i=n.wrapChildren(t.newElement),s=Object.assign(Object.assign({},t),{placement:"swap",oldElement:e,newElement:i,focus:!1});return this.ce(s).then((()=>{n.unwrap(i),this.L(t.oldElement,t)}))}case"before":case"after":{let e=n.wrapChildren(t.newElement),i="before"===t.placement?"afterbegin":"beforeend";return t.oldElement.insertAdjacentElement(i,e),this.responseDoc.finalizeElement(e),up.hello(e,t),this.ae(e),this.L(e,t),this.Bt(e,t),up.animate(e,t.transition,t).then((()=>n.unwrap(e)))}default:up.fail("Unknown placement: %o",t.placement)}}he(t){if(!t.useKeep)return;const{oldElement:e,newElement:i}=t;let s;if(!n.booleanAttr(e,"up-keep"))return;let r=up.fragment.toTarget(e);const o={layer:t.layer};if(s=t.descendantsOnly?up.fragment.get(i,r,o):up.fragment.subtree(i,r,o)[0],s&&!1!==n.booleanAttr(s,"up-keep")){const n={oldElement:e,newElement:s,newData:up.script.data(s),renderOptions:t};if(!up.fragment.emitKeep(n).defaultPrevented)return n}}le(t){const e=[];if(t.useKeep)for(let n of t.oldElement.querySelectorAll("[up-keep]")){let i=this.he(Object.assign(Object.assign({},t),{oldElement:n,descendantsOnly:!0}));if(i){const t=n.cloneNode(!0);n.insertAdjacentElement("beforebegin",t),n.classList.add("up-keeping"),up.script.disableSubtree(i.newElement);let s=up.viewport.subtree(i.oldElement);i.revivers=s.map((function(t){let e=up.viewport.copyCursorProps(t);return()=>up.viewport.copyCursorProps(e,t)})),this.de(document.body)?i.newElement.replaceWith(n):document.body.append(n),e.push(i)}}t.keepPlans=e}pe(t){for(let e of t.keepPlans){e.newElement.replaceWith(e.oldElement);for(let t of e.revivers)t()}}fe(t){for(let e of t.keepPlans)e.oldElement.classList.remove("up-keeping")}de(t){return e.some(this.Xt,(e=>e.oldElement.contains(t)))}L(t,e){return new up.FragmentFocus(Object.assign(Object.assign({},e),{fragment:t,autoMeans:up.fragment.config.autoFocus})).process(e.focus)}Bt(t,e){return new up.FragmentScrolling(Object.assign(Object.assign({},e),{fragment:t,autoMeans:up.fragment.config.autoScroll})).process(e.scroll)}}},1569:()=>{const t=up.util;up.CompilerPass=class CompilerPass{constructor(t,e,{layer:n,data:i,dataMap:s,meta:r}){n||(n=up.layer.get(t)||up.layer.current),this.me=t,this.ge=e,this.j=n,this.ve=i,this.be=s,r||(r={}),r.layer=n,this.ye=r}run(){this.j.asCurrent((()=>{this.setCompileData();for(let t of this.ge)this.we(t)}))}setCompileData(){if(this.ve&&(this.me.upCompileData=this.ve),this.be)for(let t in this.be)for(let e of this._e(t))e.upCompileData=this.be[t]}we(t){var e,n;const i=this.Oe(t);if(i.length){if(t.isDefault||up.puts("up.hello()",'Compiling %d× "%s" on %s',i.length,t.selector,this.j),t.batch)this.ke(t,i);else for(let e of i)this.Se(t,e);return null===(n=(e=up.migrate).postCompile)||void 0===n?void 0:n.call(e,i,t)}}Se(t,e){const n=[e];if(1!==t.length){const t=up.script.data(e);n.push(t,this.ye)}const i=this.xe(t,e,n);let s=this.Ee(i);s&&up.destructor(e,s)}ke(e,n){const i=[n];if(1!==e.length){const e=t.map(n,up.script.data);i.push(e,this.ye)}const s=this.xe(e,n,i);this.Ee(s)&&up.fail("Compilers with { batch: true } cannot return destructors")}xe(t,e,n){return up.error.guard((()=>t.apply(e,n)))}Ee(e){if(t.isFunction(e)||t.isArray(e)&&t.every(e,t.isFunction))return e}_e(e){return up.fragment.subtree(this.me,t.evalOption(e),{layer:this.j})}Oe(e){let n=this._e(e.selector);return t.filter(n,(t=>{let n=t.upAppliedCompilers||(t.upAppliedCompilers=new Set);if(!n.has(e))return n.add(e),!0}))}}},3742:()=>{const t=up.util,e=up.element;up.Config=class Config{constructor(t=(()=>({}))){this.je=t,this.reset(),document.addEventListener("up:framework:reset",(()=>this.reset()))}reset(){Object.assign(this,this.je())}matches(t,e){return t.matches(this.selector(e))}selector(n){let i=this[n],s=this["no"+t.upperCaseFirst(n)];return e.unionSelector(i,s)}selectorFn(t){return()=>this.selector(t)}}},2737:()=>{const t=up.util,e=up.element;up.CSSTransition=class CSSTransition{constructor(t,e,n){this.H=t,this.Ce=e,this.Fe=Object.keys(this.Ce),this.Te=n.finishEvent,this.Re=n.duration,this.Pe=n.easing,this.Ae=!1}start(){return 0===this.Fe.length?(this.Ae=!0,Promise.resolve()):(this.Le=t.newDeferred(),this.$e(),this.De=new Date,this.Me(),this.He(),this.Ne(),this.qe(),this.Le)}He(){this.Te&&(this.Be=up.on(this.H,this.Te,this.Ue.bind(this)))}Ue(t){t.stopPropagation(),this.Ut()}Me(){this.ze=t.timer(this.Re+100,(()=>this.Ut()))}Ie(){clearTimeout(this.ze)}Ne(){this.Ke=up.on(this.H,"transitionend",this.Ve.bind(this))}Ve(e){if(e.target!==this.H)return;if(new Date-this.De<=.25*this.Re)return;const n=e.propertyName;t.contains(this.Fe,n)&&this.Ut()}Ut(){var t,n;this.Ae||(this.Ae=!0,this.Ie(),null===(t=this.Be)||void 0===t||t.call(this),null===(n=this.Ke)||void 0===n||n.call(this),e.concludeCSSTransition(this.H),this.Xe(),this.Le.resolve())}$e(){const t=e.style(this.H,["transition-property","transition-duration","transition-delay","transition-timing-function"]);if(e.hasCSSTransition(t)){if("all"!==t["transition-property"]){const n=t["transition-property"].split(/\s*,\s*/),i=e.style(this.H,n);this.We=e.setTemporaryStyle(this.H,i)}this.Je=e.concludeCSSTransition(this.H)}}Xe(){var t,e;null===(t=this.We)||void 0===t||t.call(this),null===(e=this.Je)||void 0===e||e.call(this)}qe(){e.setStyle(this.H,{"transition-property":this.Fe.join(),"transition-duration":`${this.Re}ms`,"transition-timing-function":this.Pe}),e.setStyle(this.H,this.Ce)}}},3635:()=>{const t=up.util;up.DestructorPass=class DestructorPass{constructor(t,e){this.Ge=t,this.Qe=e}run(){for(let e of this.Ye()){let n=t.pluckKey(e,"upDestructors");if(n)for(let t of n)this.Ze(t,e);e.classList.remove("up-can-clean")}}Ye(){const t=Object.assign(Object.assign({},this.Qe),{destroying:!0});return up.fragment.subtree(this.Ge,".up-can-clean",t)}Ze(t,e){up.error.guard((()=>t(e)))}}},1906:()=>{const t=up.util,e=up.element;up.EventEmitter=class EventEmitter extends up.Record{keys(){return["target","event","baseLayer","callback","log","ensureBubbles"]}emit(){return this.tn(),this.baseLayer?this.baseLayer.asCurrent((()=>this.en())):this.en(),this.event}en(){this.target.dispatchEvent(this.event),this.ensureBubbles&&!this.target.isConnected&&document.dispatchEvent(this.event),up.error.guard((()=>{var t;return null===(t=this.callback)||void 0===t?void 0:t.call(this,this.event)}))}assertEmitted(){const t=this.emit();if(t.defaultPrevented)throw new up.Aborted(`Event ${t.type} was prevented`)}tn(){if(!up.log.config.enabled)return;let e,n=this.log;t.isArray(n)?[n,...e]=n:e=[];const{type:i}=this.event;t.isString(n)?up.puts(i,n,...e):!1!==n&&up.puts(i,`Event ${i}`)}static fromEmitArgs(n,i={}){var s,r;let o,u=t.extractOptions(n);return u=t.merge(i,u),t.isElementish(n[0])?u.target=e.get(n.shift()):n[0]instanceof up.Layer&&(u.layer=n.shift()),t.isGiven(u.layer)&&(o=up.layer.get(u.layer),u.target||(u.target=o.element),u.baseLayer||(u.baseLayer=o)),u.baseLayer&&(u.baseLayer=up.layer.get(u.baseLayer)),t.isString(u.target)?u.target=up.fragment.get(u.target,{layer:u.layer}):u.target||(u.target=document),(null===(s=n[0])||void 0===s?void 0:s.preventDefault)?(u.event=n[0],null!==(r=u.log)&&void 0!==r||(u.log=n[0].log)):t.isString(n[0])?u.event=up.event.build(n[0],u):u.event=up.event.build(u),new this(u)}}},4158:()=>{const t=up.util;up.EventListener=class EventListener extends up.Record{keys(){return["element","eventType","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}constructor(t){var e;super(t),this.nn=this.constructor.sn(t),this.isDefault=up.framework.evaling,null!==(e=this.beforeBoot)&&void 0!==e||(this.beforeBoot=0===this.eventType.indexOf("up:framework:")),this.nativeCallback=this.nativeCallback.bind(this)}bind(){var t;const e=(t=this.element).upEventListeners||(t.upEventListeners={});e[this.nn]&&up.fail("up.on(): The %o callback %o cannot be registered more than once",this.eventType,this.callback),e[this.nn]=this,this.element.addEventListener(...this.rn())}rn(){let e=t.compactObject(t.pick(this,["once","passive","capture"]));return[this.eventType,this.nativeCallback,e]}unbind(){let t=this.element.upEventListeners;t&&delete t[this.nn],this.element.removeEventListener(...this.rn())}nativeCallback(e){if(up.framework.beforeBoot&&!this.beforeBoot)return;let n=e.target;if(this.selector&&(n=n.closest(t.evalOption(this.selector))),(!this.guard||this.guard(e))&&n){const t=[e,n],i=this.callback.length;if(1!==i&&2!==i){const e=up.script.data(n);t.push(e)}if("click"===this.eventType&&n.disabled)return;const s=this.callback.bind(n,...t);this.baseLayer?this.baseLayer.asCurrent(s):s()}}static fromElement(t){let e=t.element.upEventListeners;if(e)return e[this.sn(t)]}static sn(e){var n;return(n=e.callback).upUid||(n.upUid=t.uid()),[e.eventType,e.selector,e.callback.upUid].join("|")}static allNonDefault(e){let n=e.upEventListeners;if(n){const e=Object.values(n);return t.reject(e,"isDefault")}return[]}}},3139:()=>{const t=up.util;up.EventListenerGroup=class EventListenerGroup extends up.Record{keys(){return["elements","eventTypes","selector","callback","guard","baseLayer","passive","once","capture","beforeBoot"]}bind(){const e=[];return this.un((function(t){const n=new up.EventListener(t);return n.bind(),e.push(n.unbind.bind(n))})),t.sequence(e)}un(t){for(let e of this.elements)for(let n of this.eventTypes)t(this.cn(e,n))}cn(t,e){return Object.assign(Object.assign({},this.attributes()),{element:t,eventType:e})}unbind(){this.un((function(t){let e=up.EventListener.fromElement(t);e&&e.unbind()}))}static fromBindArgs(e,n){const i=(e=t.copy(e)).pop();let s;s=e[0].addEventListener?[e.shift()]:t.isJQuery(e[0])||t.isList(e[0])&&e[0][0].addEventListener?e.shift():[document];let r=t.parseTokens(e.shift()),o=up.migrate.fixEventTypes;o&&(r=o(r));const u=t.extractOptions(e),c=e[0];return new this(Object.assign(Object.assign({elements:s,eventTypes:r,selector:c,callback:i},u),n))}}},2214:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};const e=up.util;up.FieldWatcher=class FieldWatcher{constructor(t,e,n){this.Qe=e,this.me=t,this.an=up.form.getScope(t),this.hn=n,this.ln=e.batch,this.pn=e.abortable}start(){this.fn=null,this.dn=this.mn(),this.gn=null,this.vn=!1,this.bn=[],this.yn(this.me),this.me.addEventListener("up:fragment:inserted",(({target:t})=>{t!==this.me&&this.yn(t)})),this.bn.push(up.fragment.onAborted(this.an,(()=>this.wn()))),this.bn.push(up.on(this.an,"reset",(()=>this._n())))}stop(){this.wn();for(let t of this.bn)t()}On(t){let n=e.copy(this.Qe);return up.form.watchOptions(t,n,{defaults:{event:"input"}})}yn(t){for(let e of up.form.fields(t))this.kn(e)}kn(t){let e=this.On(t);this.bn.push(up.on(t,e.event,(()=>this.Sn(e))))}wn(){this.fn=null}xn(t,n){this.fn=t,this.En=n;let i=n.delay||0;clearTimeout(this.gn),this.gn=e.timer(i,(()=>{this.gn=null,this.jn()}))}Cn(t){return!e.isEqual(t,this.dn)&&!e.isEqual(this.fn,t)}jn(){return t(this,void 0,void 0,(function*(){if(!this.fn)return;if(this.vn)return;if(this.gn)return;if(!this.an.isConnected)return;let t=this.En;const n=this.Fn(this.dn,this.fn);this.dn=this.fn,this.fn=null,this.vn=!0,this.En=null;let i=Object.assign(Object.assign({},t),{disable:!1});const s=[];if(this.ln)s.push(this.Tn(n,i));else for(let t in n){const e=n[t];s.push(this.Tn(e,t,i))}if(e.some(s,e.isPromise)){let e=Promise.allSettled(s);up.form.disableWhile(e,t),yield e}this.vn=!1,this.jn()}))}Tn(...t){return up.error.guard((()=>this.hn(...t)))}Fn(t,n){const i={};let s=Object.keys(t);s=s.concat(Object.keys(n)),s=e.uniq(s);for(let r of s){const s=t[r],o=n[r];e.isEqual(s,o)||(i[r]=o)}return i}mn(){return up.Params.fromContainer(this.me).toObject()}Sn(t={}){const e=this.mn();this.Cn(e)&&this.xn(e,t)}_n(){e.task((()=>this.Sn()))}}},5949:()=>{const t=up.util;up.FIFOCache=class FIFOCache{constructor({capacity:e=10,normalizeKey:n=t.identity}={}){this.Rn=new Map,this.Pn=e,this.An=n}get(t){return t=this.An(t),this.Rn.get(t)}set(t,e){if(this.Rn.size===this.Pn){let t=this.Rn.keys().next().value;this.Rn.delete(t)}t=this.An(t),this.Rn.set(t,e)}clear(){this.Rn.clear()}}},665:()=>{up.FocusCapsule=class FocusCapsule{constructor(t,e){this.Ln=t,this.$n=e}restore(t,e){let n=up.fragment.get(this.Ln,{layer:t});if(n)return up.viewport.copyCursorProps(this.$n,n),up.focus(n,e),!0}static preserve(t){let e=up.viewport.focusedElementWithin(t.element);if(!e)return;let n=up.fragment.tryToTarget(e);return n?new this(n,up.viewport.copyCursorProps(e)):void 0}}},5240:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))},e=this&&this.Dn||function(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]])}return n};const n=up.util,i=up.element;up.FormValidator=class FormValidator{constructor(t){this.Mn=t,this.Hn=[],this.Nn=null,this.qn=!1,this.Bn(),this.Un()}Un(){up.fragment.onAborted(this.Mn,(t=>this.zn(t)))}zn(t){this.Hn.length&&(this.Hn=[],this.In.reject(new up.Aborted(t.reason)),this.Bn())}Bn(){this.In=n.newDeferred()}watchContainer(t){let{event:e}=this.Kn(t);up.on(t,e,{guard:()=>up.fragment.isAlive(t)},(()=>up.error.muteUncriticalRejection(this.validate({origin:t}))))}validate(t={}){let e=this.Vn(t);return this.Hn.push(...e),this.Xn(),this.In}Vn(t){let e=this.Wn(t)||this.Jn(t)||this.Gn(t.origin);for(let n of e)n.renderOptions=this.Kn(n.origin,t),n.target=up.fragment.resolveOrigin(n.target,n);return e}Jn(t){var{origin:n}=t,i=e(t,["origin"]);if(up.form.isField(n))return this.Qn(n)||this.Yn(n,i)}Yn(t,{formGroup:e=!0}){if(!e)return;let n=up.form.groupSolution(t);return n?(up.puts("up.validate()","Validating form group of field %o",t),[n]):void 0}Wn({target:t,origin:e}){if(n.isString(t)){up.puts("up.validate()",'Validating target "%s"',t);let i=up.fragment.splitTarget(t);return n.compact(i.map((function(t){let n=up.fragment.get(t,{origin:e});if(n)return{element:n,target:t,origin:e};up.fail('Validation target "%s" does not match an element',t)})))}}Gn(t){return up.puts("up.validate()","Validating element %o",t),[{element:t,target:up.fragment.toTarget(t),origin:t}]}Qn(t){let e=t.closest("[up-validate]");if(e){let n=i.booleanOrStringAttr(e,"up-validate");return this.Wn({target:n,origin:t})}}Kn(t,e){return up.form.watchOptions(t,e,{defaults:{event:"change"}})}Xn(){let t=this.Hn.map((t=>t.renderOptions.delay)),e=Math.min(...t)||0;clearTimeout(this.Nn),this.Nn=n.timer(e,(()=>{this.Nn=null,this.Zn()}))}Zn(){up.error.muteUncriticalRejection(this.ti())}ti(){var e;return t(this,void 0,void 0,(function*(){if(!this.Hn.length)return;if(this.qn)return;if(this.Nn)return;let t=this.Hn;this.Hn=[];let i=n.map(t,"origin"),s=n.flatMap(i,up.form.fields),r=n.uniq(n.map(s,"name")),o=this.ei(t),u=n.map(t,"renderOptions"),c=n.mergeDefined(...u,{dataMap:o},up.form.destinationOptions(this.Mn));c.target=n.map(t,"target").join(", "),c.feedback=n.some(u,"feedback"),c.origin=this.Mn,null!==(e=c.focus)&&void 0!==e||(c.focus="keep"),c.failOptions=!1,c.defaultMaybe=!0,c.params=up.Params.merge(c.params,...n.map(u,"params")),c.headers=n.merge(...n.map(u,"headers")),this.ni(c.headers,r),c.guardEvent=up.event.build("up:form:validate",{fields:s,log:"Validating form",params:c.params,form:this.Mn}),this.qn=!0;let a=this.In;this.Bn(),c.disable=!1;for(let e of t)up.form.disableWhile(a,{disable:e.renderOptions.disable,origin:e.origin});try{a.resolve(up.render(c)),yield a}finally{this.qn=!1,this.Zn()}}))}ni(t,e){let n=up.protocol.headerize("validate"),i=e.join(" ");(!i||i.length>up.protocol.config.maxHeaderSize)&&(i=":unknown"),t[n]=i}ei(t){let e={};for(let i of t){let t=n.pluckKey(i.renderOptions,"data");n.pluckKey(i.renderOptions,"keepData")&&(t=up.data(i.element)),t&&(e[i.target]=t)}return e}static forElement(t){let e=up.form.get(t);return e.upFormValidator||(e.upFormValidator=new this(e))}}},2587:()=>{const t=up.util,e=/^([^ >+(]+) (.+)$/;up.FragmentFinder=class FragmentFinder{constructor(t){var e;this.Qe=t,this.C=t.origin,this.ii=t.selector,this.si=t.document||window.document,this.ri=null!==(e=t.match)&&void 0!==e?e:up.fragment.config.match,this.oi=t.preferOldElements}find(){return this.ui()||this.ci()||this.ai()}ui(){if(this.oi)return this.oi.find((t=>this.si.contains(t)&&up.fragment.matches(t,this.ii)))}ci(){var t;if("region"===this.ri&&!up.fragment.containsMainPseudo(this.ii)&&(null===(t=this.C)||void 0===t?void 0:t.isConnected))return this.hi()||this.li()}hi(){return up.fragment.closest(this.C,this.ii,this.Qe)}li(){let n=up.fragment.splitTarget(this.ii);return t.findResult(n,(t=>{let n=t.match(e);if(n){let t=up.fragment.closest(this.C,n[1],this.Qe);if(t)return up.fragment.getDumb(t,n[2])}}))}ai(){return up.fragment.getDumb(this.si,this.ii,this.Qe)}}},7031:()=>{const t=up.util,e=up.element,n={preventScroll:!0};up.FragmentFocus=class FragmentFocus extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","focusCapsule","inputDevice"])}processPrimitive(e){switch(e){case"keep":return this.pi();case"restore":return this.fi();case"target":case!0:return this.di(this.fragment);case"layer":return this.di(this.layer.getFocusElement());case"main":return this.mi(":main");case"hash":return this.gi();case"autofocus":return this.vi();default:if(t.isString(e))return this.mi(e)}}processElement(t){return this.di(t)}resolveCondition(t){return"lost"===t?this.bi():super.resolveCondition(t)}mi(t){let e=this.findSelector(t);return this.di(e)}pi(){var t;if(this.bi())return null===(t=this.focusCapsule)||void 0===t?void 0:t.restore(this.layer,n)}fi(){return up.viewport.restoreFocus({layer:this.layer})}vi(){let t=this.fragment&&e.subtree(this.fragment,"[autofocus]")[0];if(t)return this.di(t)}di(t){if(t)return up.focus(t,Object.assign(Object.assign({force:!0},n),{inputDevice:this.inputDevice})),!0}gi(){let t=up.viewport.firstHashTarget(this.hash,{layer:this.layer});if(t)return this.di(t)}bi(){return!this.layer.hasFocus()}}},8057:()=>{const t=up.element;up.FragmentPolling=class FragmentPolling{constructor(t){this.Qe=up.radio.pollOptions(t),this.Ge=t,up.destructor(t,this.yi.bind(this)),up.fragment.onAborted(t,this.wi.bind(this)),this._i="initialized",this.pn=!0,this.Oi=!1,this.ki()}static forFragment(t){return t.upPolling||(t.upPolling=new this(t))}onPollAttributeObserved(){this.Si()}yi(){this.xi()}Si(t){if(Object.assign(this.Qe,t),"started"!==this._i){if(!up.fragment.isTargetable(this.Ge))return void up.warn("[up-poll]","Cannot poll untargetable fragment %o",this.Ge);this._i="started",this.Ei(),this.ji()}}xi(){var t;"started"===this._i&&(this.Ci(),this._i="stopped",null===(t=this.unbindEvents)||void 0===t||t.call(this))}forceStart(t){Object.assign(this.Qe,t),this.forceStarted=!0,this.Si()}forceStop(){this.xi(),this.forceStarted=!1}Ei(){this.unbindEvents||(this.unbindEvents=up.on("visibilitychange up:layer:opened up:layer:dismissed up:layer:accepted",this.Fi.bind(this)))}Fi(){this.Ti()&&this.ji()}Ti(){return!document.hidden&&("any"===this.Qe.ifLayer||this.Ri())}Ci(){clearTimeout(this.reloadTimer),this.reloadTimer=null}ji(){this.reloadTimer||this.Oi||(this.Ci(),this.reloadTimer=setTimeout(this.Pi.bind(this),this.Ai()))}Pi(){this.reloadTimer=null,this.Li()}Li(){"started"===this._i&&(this.Ti()?this.$i():up.puts("[up-poll]","Will not poll hidden fragment"))}Di(){var e,n;return null!==(n=null!==(e=this.Qe.interval)&&void 0!==e?e:t.numberAttr(this.Ge,"up-interval"))&&void 0!==n?n:up.radio.config.pollInterval}Ai(){return Math.max(this.Di()-this.Mi(),0)}Mi(){return new Date-this.Hi}Ri(){var t,e;return this.layer||(this.layer=up.layer.get(this.Ge)),null===(e=null===(t=this.layer)||void 0===t?void 0:t.isFront)||void 0===e?void 0:e.call(t)}$i(){this.Ci();let t=this.pn;try{this.pn=!1,this.Oi=!0,up.reload(this.Ge,this.Ni()).then(this.qi.bind(this),this.Bi.bind(this))}finally{this.pn=t}}Ni(){let t=up.event.build("up:fragment:poll",{log:["Polling fragment",this.Ge]});return Object.assign(Object.assign({},this.Qe),{guardEvent:t})}wi({newLayer:t}){this.pn&&!t&&this.xi()}qi({fragment:t}){this.Oi=!1,this.ki(),t?this.Ui(t):this.ji()}Ui(t){this.xi(),this.forceStarted&&up.fragment.matches(this.Ge,t)&&this.constructor.forFragment(t).forceStart(this.Qe)}Bi(t){this.Oi=!1,this.ki(),this.ji(),up.error.throwCritical(t)}ki(){this.Hi=new Date}}},2828:()=>{const t=up.util;up.FragmentProcessor=class FragmentProcessor extends up.Record{keys(){return["fragment","autoMeans","origin","layer"]}process(t){let e=this.preprocess(t);return this.tryProcess(e)}preprocess(e){return t.parseTokens(e,{separator:"or"})}tryProcess(e){if(t.isArray(e))return this.processArray(e);if(t.isFunction(e)){let t=up.error.guard((()=>e(this.fragment,this.attributes())));return this.tryProcess(t)}if(t.isElement(e))return this.processElement(e);if(t.isString(e)){if("auto"===e)return this.tryProcess(this.autoMeans);let t=e.match(/^(.+?)-if-(.+?)$/);if(t)return this.resolveCondition(t[2])&&this.process(t[1])}return this.processPrimitive(e)}processArray(e){return t.find(e,(t=>this.tryProcess(t)))}resolveCondition(t){if("main"===t)return this.fragment&&up.fragment.contains(this.fragment,":main")}findSelector(t){const e={layer:this.layer,origin:this.origin};let n=this.fragment&&up.fragment.get(this.fragment,t,e)||up.fragment.get(t,e);if(n)return n;up.warn("up.render()",'Could not find an element matching "%s"',t)}}},4850:()=>{const t=up.util;up.FragmentScrolling=class FragmentScrolling extends up.FragmentProcessor{keys(){return super.keys().concat(["hash","mode","revealTop","revealMax","revealSnap","scrollBehavior"])}processPrimitive(e){switch(e){case"reset":return this.zi();case"layer":return this.Ii();case"main":return this.Ki(":main");case"restore":return this.Vi();case"hash":return this.hash&&up.viewport.revealHash(this.hash,this.attributes());case"target":case"reveal":case!0:return this.Xi(this.fragment);default:if(t.isString(e))return this.Ki(e)}}processElement(t){return this.Xi(t)}Xi(t){if(t)return up.reveal(t,this.attributes()),!0}Ki(t){let e=this.findSelector(t);return this.Xi(e)}Ii(){return this.Xi(this.layer.getBoxElement())}zi(){return up.viewport.resetScroll(Object.assign(Object.assign({},this.attributes()),{around:this.fragment})),!0}Vi(){return up.viewport.restoreScroll(Object.assign(Object.assign({},this.attributes()),{around:this.fragment}))}}},7956:()=>{const t=up.element,e=up.util;up.Layer=class Layer extends up.Record{keys(){return["element","stack","history","mode","context","lastScrollTops","lastFocusCapsules"]}defaults(){return{context:{},lastScrollTops:up.viewport.newStateCache(),lastFocusCapsules:up.viewport.newStateCache()}}constructor(t={}){if(super(t),!this.mode)throw"missing { mode } option"}setupHandlers(){up.link.convertClicks(this)}teardownHandlers(){}mainTargets(){return up.layer.mainTargets(this.mode)}sync(){}accept(){throw new up.NotImplemented}dismiss(){throw new up.NotImplemented}peel(t){this.stack.peel(this,t)}evalOption(t){return e.evalOption(t,this)}isCurrent(){return this.stack.isCurrent(this)}isFront(){return this.stack.isFront(this)}isRoot(){return this.stack.isRoot(this)}isOverlay(){return this.stack.isOverlay(this)}isOpen(){return this.stack.isOpen(this)}isClosed(){return this.stack.isClosed(this)}get parent(){return this.stack.parentOf(this)}get child(){return this.stack.childOf(this)}get ancestors(){return this.stack.ancestorsOf(this)}get descendants(){return this.stack.descendantsOf(this)}get subtree(){return[this,...this.descendants]}get index(){var t;return null!==(t=this.Wi)&&void 0!==t?t:this.Wi=this.stack.indexOf(this)}getContentElement(){return this.contentElement||this.element}getBoxElement(){return this.boxElement||this.element}getFocusElement(){return this.getBoxElement()}getFirstSwappableElement(){throw new up.NotImplemented}contains(t){return t.closest(up.layer.anySelector())===this.element}on(...t){return this.Ji(t).bind()}off(...t){return this.Ji(t).unbind()}Ji(t){return up.EventListenerGroup.fromBindArgs(t,{guard:t=>this.Gi(t),elements:[this.element],baseLayer:this})}Gi(t){return this.contains(t.target)}wasHitByMouseEvent({clientX:t,clientY:e}){const n=document.elementFromPoint(t,e);return!n||this.contains(n)}Qi(t){return up.EventEmitter.fromEmitArgs(t,{layer:this})}emit(...t){return this.Qi(t).emit()}isDetached(){return!this.element.isConnected}saveHistory(){this.history&&(this.savedTitle=document.title,this.savedMetaTags=up.history.findMetaTags(),this.savedLocation=up.history.location,this.savedLang=up.history.getLang())}restoreHistory(){this.showsLiveHistory()&&(this.savedLocation&&up.history.push(this.savedLocation),this.savedTitle&&(document.title=this.savedTitle),this.savedMetaTags&&up.history.updateMetaTags(this.savedMetaTags),e.isString(this.savedLang)&&up.history.updateLang(this.savedLang))}asCurrent(t){return this.stack.asCurrent(this,t)}updateHistory(t){var n,i;e.isString(t.location)&&(this.location=t.location),up.history.config.updateMetaTags&&e.isList(t.metaTags)&&(null===(i=null===(n=up.migrate)||void 0===n?void 0:n.warnOfHungryMetaTags)||void 0===i||i.call(n,t.metaTags),this.metaTags=t.metaTags),e.isString(t.title)&&(this.title=t.title),e.isString(t.lang)&&(this.lang=t.lang)}showsLiveHistory(){return this.history&&this.isFront()}get title(){return this.showsLiveHistory()?document.title:this.savedTitle}set title(t){this.savedTitle=t,this.showsLiveHistory()&&(document.title=t)}get metaTags(){return this.showsLiveHistory()?up.history.findMetaTags():this.savedMetaTags}set metaTags(t){this.savedMetaTags=t,this.showsLiveHistory()&&up.history.updateMetaTags(t)}get lang(){return this.showsLiveHistory()?up.history.getLang():this.savedLang}set lang(t){this.savedLang=t,this.showsLiveHistory()&&up.history.updateLang(t)}get location(){return this.showsLiveHistory()?up.history.location:this.savedLocation}set location(t){(this.location!==(t=e.normalizeURL(t))||this.opening)&&(this.savedLocation=t,this.showsLiveHistory()&&up.history.push(t),this.opening||this.emit("up:layer:location:changed",{location:t}))}selector(t){return this.constructor.selector(t)}static selector(t){throw new up.NotImplemented}toString(){throw new up.NotImplemented}affix(...e){return t.affix(this.getFirstSwappableElement(),...e)}[e.isEqual.key](t){return this.constructor===t.constructor&&this.element===t.element}hasFocus(){let t=document.activeElement;return t!==document.body&&this.element.contains(t)}reset(){Object.assign(this,this.defaults())}}},7101:()=>{var t;up.Layer.Cover=((t=class Cover extends up.Layer.OverlayWithViewport{}).mode="cover",t)},5580:()=>{var t;up.Layer.Drawer=((t=class Drawer extends up.Layer.OverlayWithViewport{}).mode="drawer",t)},86:()=>{var t;up.Layer.Modal=((t=class Modal extends up.Layer.OverlayWithViewport{}).mode="modal",t)},7403:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};const e=up.element,n=up.util;up.Layer.Overlay=class Overlay extends up.Layer{keys(){return super.keys().concat(["position","align","size","origin","class","backdrop","openAnimation","closeAnimation","openDuration","closeDuration","openEasing","closeEasing","backdropOpenAnimation","backdropCloseAnimation","dismissable","dismissLabel","dismissAriaLabel","onOpened","onAccept","onAccepted","onDismiss","onDismissed","acceptEvent","dismissEvent","acceptLocation","dismissLocation","opening"])}constructor(t){super(t),!0===this.dismissable?this.dismissable=["button","key","outside"]:!1===this.dismissable?this.dismissable=[]:this.dismissable=n.parseTokens(this.dismissable),this.acceptLocation&&(this.acceptLocation=new up.URLPattern(this.acceptLocation)),this.dismissLocation&&(this.dismissLocation=new up.URLPattern(this.dismissLocation))}callback(t){let e=this[t];if(e)return e.bind(this)}createElement(t){this.nesting||(this.nesting=this.Yi());const e=n.compactObject(n.pick(this,["align","position","size","class","nesting"]));this.element=this.affixPart(t,null,e)}createBackdropElement(t){this.backdropElement=this.affixPart(t,"backdrop")}createViewportElement(t){this.viewportElement=this.affixPart(t,"viewport",{"up-viewport":""})}createBoxElement(t){this.boxElement=this.affixPart(t,"box")}createContentElement(t){this.contentElement=this.affixPart(t,"content")}setContent(t){this.contentElement.append(t),this.onContentSet()}onContentSet(){}createDismissElement(t){return this.dismissElement=this.affixPart(t,"dismiss",{"up-dismiss":'":button"',"aria-label":this.dismissAriaLabel}),e.affix(this.dismissElement,'span[aria-hidden="true"]',{text:this.dismissLabel})}affixPart(t,n,i={}){return e.affix(t,this.selector(n),i)}static selector(t){return n.compact(["up",this.mode,t]).join("-")}Yi(){const{parent:t}=this;return this.mode===t.mode?1+t.Yi():0}setupHandlers(){var t,e;super.setupHandlers(),this.overlayFocus=new up.OverlayFocus(this),this.Zi("button")&&this.createDismissElement(this.getBoxElement()),this.Zi("outside")&&(this.viewportElement?up.on(this.viewportElement,"up:click",(t=>{t.target===this.viewportElement&&this.ts(t,!0)})):this.unbindParentClicked=this.parent.on("up:click",((t,e)=>{if(!up.layer.isWithinForeignOverlay(e)){const n=this.origin&&this.origin.contains(e);this.ts(t,n)}}))),this.Zi("key")&&(this.unbindEscapePressed=up.event.onEscape((t=>this.onEscapePressed(t)))),this.registerClickCloser("up-accept",((t,e)=>{this.accept(t,e)})),this.registerClickCloser("up-dismiss",((t,e)=>{this.dismiss(t,e)})),null===(e=(t=up.migrate).registerLayerCloser)||void 0===e||e.call(t,this),this.es(this.acceptEvent,this.accept),this.es(this.dismissEvent,this.dismiss),this.on("up:click","label[for]",((t,e)=>this.ns(t,e)))}ns(t,n){let i=n.getAttribute("for"),s=up.form.fieldSelector(e.idSelector(i)),r=up.fragment.all(s,{layer:"any"}),o=up.fragment.all(s,{layer:this});if(r.length>1&&o[0]!==r[0]){t.preventDefault();const e=o[0];e.focus(),e.matches("input[type=checkbox], input[type=radio]")&&e.click()}}ts(t,e){up.log.putsEvent(t),e&&up.event.halt(t),up.error.muteUncriticalSync((()=>this.dismiss(":outside",{origin:t.target})))}onEscapePressed(t){if(this.isFront()){let e=up.form.focusedField();e?e.blur():this.Zi("key")&&(up.event.halt(t,{log:!0}),up.error.muteUncriticalSync((()=>this.dismiss(":key"))))}}registerClickCloser(t,n){let i=`[${t}]`;this.on("up:click",i,(function(s){up.event.halt(s,{log:!0});const r=s.target.closest(i),o=e.jsonAttr(r,t),u={origin:r},c=new up.OptionsParser(r,u);c.booleanOrString("animation"),c.string("easing"),c.number("duration"),c.string("confirm"),up.error.muteUncriticalSync((()=>n(o,u)))}))}es(t,e){if(t)return this.on(t,(t=>{t.preventDefault(),up.error.muteUncriticalSync((()=>e.call(this,t,{response:t.response})))}))}tryAcceptForLocation(t){this.ss(this.acceptLocation,this.accept,t)}tryDismissForLocation(t){this.ss(this.dismissLocation,this.dismiss,t)}ss(t,e,n){let i,s;if(t&&(i=this.location)&&(s=t.recognize(i))){const t=Object.assign(Object.assign({},s),{location:i});up.error.muteUncriticalSync((()=>e.call(this,t,n)))}}teardownHandlers(){var t,e;super.teardownHandlers(),null===(t=this.unbindParentClicked)||void 0===t||t.call(this),null===(e=this.unbindEscapePressed)||void 0===e||e.call(this),this.overlayFocus.teardown()}destroyElements(t){const e=Object.assign(Object.assign({},t),{animation:()=>this.startCloseAnimation(t),onFinished:()=>{var e;this.onElementsRemoved(),null===(e=t.onFinished)||void 0===e||e.call(t)},log:!1});up.destroy(this.element,e)}onElementsRemoved(){}rs(t={}){const e=up.animate(this.getBoxElement(),t.boxAnimation,t);let n;return this.backdrop&&!up.motion.isNone(t.boxAnimation)&&(n=up.animate(this.backdropElement,t.backdropAnimation,t)),Promise.all([e,n])}startOpenAnimation(e={}){var n;return t(this,void 0,void 0,(function*(){yield this.rs({boxAnimation:null!==(n=e.animation)&&void 0!==n?n:this.evalOption(this.openAnimation),backdropAnimation:"fade-in",easing:e.easing||this.openEasing,duration:e.duration||this.openDuration}),this.wasEverVisible=!0}))}startCloseAnimation(t={}){var e;return this.rs({boxAnimation:this.wasEverVisible&&(null!==(e=t.animation)&&void 0!==e?e:this.evalOption(this.closeAnimation)),backdropAnimation:this.wasEverVisible&&"fade-out",easing:t.easing||this.closeEasing,duration:t.duration||this.closeDuration})}accept(t=null,e={}){return this.os("accept",t,e)}dismiss(t=null,e={}){return this.os("dismiss",t,e)}Zi(t){return n.contains(this.dismissable,t)}os(t,e,n){return n=Object.assign(Object.assign({},n),{verb:t,value:e,layer:this}),new up.Change.CloseLayer(n).execute()}getFirstSwappableElement(){return this.getContentElement().children[0]}toString(){return`${this.mode} overlay`}}},6412:()=>{up.Layer.OverlayWithTether=class OverlayWithTether extends up.Layer.Overlay{createElements(){this.origin||up.fail("Missing { origin } option"),this.us=new up.Tether({anchor:this.origin,align:this.align,position:this.position}),this.createElement(this.us.parent),this.createContentElement(this.element)}onContentSet(){this.us.start(this.element)}onElementsRemoved(){this.us.stop()}sync(){this.isOpen()&&(this.isDetached()||this.us.isDetached()?this.dismiss(":detached",{animation:!1,preventable:!1}):this.us.sync())}}},7965:()=>{up.Layer.OverlayWithViewport=class OverlayWithViewport extends up.Layer.Overlay{static getParentElement(){return document.body}createElements(){up.viewport.bodyShifter.raiseStack(),this.createElement(this.constructor.getParentElement()),this.backdrop&&this.createBackdropElement(this.element),this.createViewportElement(this.element),this.createBoxElement(this.viewportElement),this.createContentElement(this.boxElement)}onElementsRemoved(){up.viewport.bodyShifter.lowerStack()}sync(){this.isDetached()&&this.isOpen()&&this.constructor.getParentElement().appendChild(this.element)}}},4552:()=>{var t;up.Layer.Popup=((t=class Popup extends up.Layer.OverlayWithTether{}).mode="popup",t)},7771:()=>{var t;const e=up.element;up.Layer.Root=((t=class Root extends up.Layer{get element(){return e.root}constructor(t){super(t),this.setupHandlers()}getFirstSwappableElement(){return document.body}static selector(){return"html"}setupHandlers(){this.element.upHandlersApplied||(this.element.upHandlersApplied=!0,super.setupHandlers())}sync(){this.setupHandlers()}accept(){this.cs()}dismiss(){this.cs()}cs(){up.fail("Cannot close the root layer")}toString(){return"root layer"}}).mode="root",t)},6066:()=>{var t;const e=up.util,n=up.element;up.LayerLookup=(t=class LayerLookup{constructor(t,n){this.i=t,!1!==n.normalizeLayerOptions&&up.layer.normalizeOptions(n),this.Qe=n,this.hs=e.parseTokens(n.layer)}all(){let t=e.flatMap(this.hs,(t=>this.ls(t)));return t=e.compact(t),t=e.uniq(t),t}static all(t,...n){const i=e.parseArgIntoOptions(n,"layer"),{layer:s}=i;return s instanceof up.Layer?[s]:new this(t,i).all()}ps(t){return t=n.get(t),e.find(this.i.reversed(),(e=>e.contains(t)))}fs(t){return this.i.at(t)}ls(t){if(t instanceof up.Layer)return t;if(e.isNumber(t))return this.fs(t);if(/^\d+$/.test(t))return this.fs(Number(t));if(e.isElementish(t))return this.ps(t);switch(t){case"any":return[this.ds(),...this.i.reversed()];case"current":return this.ds();case"closest":return this.i.selfAndAncestorsOf(this.ds());case"parent":return this.ds().parent;case"ancestor":case"ancestors":return this.ds().ancestors;case"child":return this.ds().child;case"descendant":case"descendants":return this.ds().descendants;case"subtree":return this.ds().subtree;case"new":return"new";case"root":return this.i.root;case"overlay":case"overlays":return e.reverse(this.i.overlays);case"front":return this.i.front;case"origin":return this.gs();default:return up.fail("Unknown { layer } option: %o",t)}}gs(){let{origin:t}=this.Qe;if(t)return this.ps(t)}ds(){let{baseLayer:t}=this.Qe;if(e.isString(t)){const e=Object.assign(Object.assign({},this.Qe),{baseLayer:this.i.current,normalizeLayerOptions:!1,layer:t});return this.constructor.all(this.i,e)[0]}return t||this.gs()||this.i.current}},e.memoizeMethod(t.prototype,{ds:!0,gs:!0}),t)},6387:()=>{const t=up.util;up.LayerStack=class LayerStack{constructor(){this.vs=[],this.layers=[this.bs()]}bs(){return up.layer.build({mode:"root",stack:this})}remove(e){t.remove(this.layers,e)}peel(e,n){const i=t.reverse(e.descendants),s=Object.assign(Object.assign({},n),{preventable:!1});for(let t of i)t.dismiss(":peel",s)}reset(){this.peel(this.root,{animation:!1}),this.vs=[],this.root.reset()}isOpen(e){return t.contains(this.layers,e)}isClosed(t){return!this.isOpen(t)}parentOf(t){return this.layers[t.index-1]}childOf(t){return this.layers[t.index+1]}ancestorsOf(e){return t.reverse(this.layers.slice(0,e.index))}selfAndAncestorsOf(t){return[t,...t.ancestors]}descendantsOf(t){return this.layers.slice(t.index+1)}isRoot(t){return this.root===t}isOverlay(t){return this.root!==t}isCurrent(t){return this.current===t}isFront(t){return this.front===t}get(...t){return this.getAll(...t)[0]}getAll(...t){return up.LayerLookup.all(this,...t)}sync(){for(let t of this.layers)t.sync()}asCurrent(t,e){try{return this.vs.push(t),e()}finally{this.vs.pop()}}reversed(){return t.reverse(this.layers)}dismissOverlays(e=null,n={}){n.dismissable=!1;for(let i of t.reverse(this.overlays))i.dismiss(e,n)}at(t){return this.layers[t]}indexOf(t){return this.layers.indexOf(t)}get count(){return this.layers.length}get root(){return this.layers[0]}get overlays(){return this.root.descendants}get current(){return t.last(this.vs)||this.front}get front(){return t.last(this.layers)}}},5390:()=>{const t=up.util;up.LinkFeedbackURLs=class LinkFeedbackURLs{constructor(e){if(this.ys=up.link.isSafe(e),this.ys){const n=e.getAttribute("href");n&&"#"!==n&&(this.ws=t.matchableURL(n));const i=e.getAttribute("up-href");i&&(this._s=t.matchableURL(i));const s=e.getAttribute("up-alias");s&&(this.Os=new up.URLPattern(s))}}isCurrent(t){var e,n;return!(!t||this.ws!==t&&this._s!==t&&!(null===(n=null===(e=this.Os)||void 0===e?void 0:e.test)||void 0===n?void 0:n.call(e,t,!1)))}}},2460:()=>{const t=up.util,e=up.element;up.LinkFollowIntent=class LinkFollowIntent{constructor(t,e){this.ks=t,this.hn=e,this.Ss("mouseenter mousedown touchstart",(t=>this.xs(t))),this.Ss("mouseleave",(()=>this.Es())),up.fragment.onAborted(this.ks,(()=>this.Es()))}Ss(t,e){up.on(this.ks,t,{passive:!0},e)}xs(e){if(up.link.shouldFollowEvent(e,this.ks))if(this.Es(),"mouseenter"===e.type){let n=this.js();this.Cs=t.timer(n,(()=>this.Tn(e)))}else this.Tn(e)}Es(){clearTimeout(this.Cs),up.network.abort((t=>t.origin===this.ks&&t.background))}js(){var t;return null!==(t=e.numberAttr(this.ks,"up-preload-delay"))&&void 0!==t?t:up.link.config.preloadDelay}Tn(t){up.log.putsEvent(t),up.error.muteUncriticalRejection(this.hn())}}},1653:()=>{let t="up.log.enabled",e=!1;try{e=!!(null===sessionStorage||void 0===sessionStorage?void 0:sessionStorage.getItem(t))}catch(t){}up.LogConfig=class LogConfig extends up.Config{constructor(){super((()=>({banner:!0,format:!0})))}get enabled(){return e}set enabled(n){e=n;try{null===sessionStorage||void 0===sessionStorage||sessionStorage.setItem(t,n?"1":"")}catch(t){}}}},7792:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};const e=up.util,n=up.element;up.MotionController=class MotionController{constructor(t){this.Fs=`up-${t}`,this.ii=`.${this.Fs}`,this.finishEvent=`up:${t}:finish`,this.finishCount=0,this.Ts=0}startFunction(t,e,i={}){var s;t=n.list(t);const r=()=>up.error.muteUncriticalRejection(e());if(i.trackMotion=null!==(s=i.trackMotion)&&void 0!==s?s:up.motion.isEnabled(),!1===i.trackMotion)return r();{i.trackMotion=!1,this.finish(t),this.Rs(t);let e=this.Ps(t,r);return e=e.then((()=>this.As(t))),e}}finish(t){var e,n;if(this.finishCount++,0!==this.Ts&&up.motion.isEnabled()){t=this.Ls(t);for(let e of t)this.$s(e);return null===(n=(e=up.migrate).formerlyAsync)||void 0===n?void 0:n.call(e,"up.motion.finish()")}}Ls(t){return t?e.flatMap(t,(t=>n.list(t.closest(this.ii),t.querySelectorAll(this.ii)))):document.querySelectorAll(this.ii)}isActive(t){return t.classList.contains(this.Fs)}$s(t){this.Ds(t)}Ds(t,e={}){return e=Object.assign({target:t,log:!1},e),up.emit(this.finishEvent,e)}Rs(t){this.Ts++,this.Ms(t,!0)}As(t){this.Ts--,this.Ms(t,!1)}Ms(t,e){for(let n of t)n.classList.toggle(this.Fs,e)}Ps(t,e){if(t.length<2)return e();const n=up.on(t,this.finishEvent,(e=>{if(!e.forwarded)for(let n of t)n!==e.target&&this.isActive(n)&&this.Ds(n,{forwarded:!0})}));return e().then(n)}reset(){return t(this,void 0,void 0,(function*(){yield this.finish(),this.finishCount=0,this.Ts=0}))}}},4308:()=>{const t=up.util,e=up.element;up.NonceableCallback=class NonceableCallback{constructor(t,e){this.script=t,this.nonce=e}static fromString(t){let e=t.match(/^(nonce-([^\s]+)\s)?(.*)$/);return new this(e[3],e[2])}toFunction(...t){if(this.nonce){let e=this;return function(...n){return e.Hs(this,t,n)}}return new Function(...t,this.script)}toString(){return`nonce-${this.nonce} ${this.script}`}Hs(t,e,n){let i,s=`\n      try {\n        up.noncedEval.value = (function(${e.join()}) {\n          ${this.script}\n        }).apply(up.noncedEval.thisArg, up.noncedEval.args)\n      } catch (error) {\n        up.noncedEval.error = error\n      }\n    `;try{if(up.noncedEval={args:n,thisArg:t},i=up.element.affix(document.body,"script",{nonce:this.nonce,text:s}),up.noncedEval.error)throw up.noncedEval.error;return up.noncedEval.value}finally{up.noncedEval=void 0,i&&i.remove()}}Ns(e){return this.nonce&&t.contains(e,this.nonce)}static adoptNonces(n,i){if(!(null==i?void 0:i.length))return;const s=t.memoize(up.protocol.cspNonce);t.each(up.script.config.nonceableAttributes,(r=>{let o=e.subtree(n,`[${r}^="nonce-"]`);t.each(o,(t=>{let e=t.getAttribute(r),n=this.fromString(e),o=(t,...n)=>up.log.warn("up.render()",`Cannot use callback [${r}="${e}"]: ${t}`,...n);if(!n.Ns(i))return o("Callback's CSP nonce (%o) does not match response header (%o)",n.nonce,i);let u=s();if(!u)return o("Current page's CSP nonce is unknown");n.nonce=u,t.setAttribute(r,n.toString())}))}))}}},1104:()=>{const t=up.util,e=up.element;up.OptionsParser=class OptionsParser{constructor(t,e,n={}){this.Qe=e,this.H=t,this.qs=n,this.Bs=n.fail,this.Us=n.closest,this.zs=n.attrPrefix||"up-",this.Is=n.defaults||{}}string(t,n){this.parse(e.attr,t,n)}boolean(t,n){this.parse(e.booleanAttr,t,n)}number(t,n){this.parse(e.numberAttr,t,n)}booleanOrString(t,n){this.parse(e.booleanOrStringAttr,t,n)}json(t,n){this.parse(e.jsonAttr,t,n)}callback(t,n={}){this.parse(((t,i)=>e.callbackAttr(t,i,n)),t,n)}parse(e,n,i={}){var s,r;const o=t.wrapList(null!==(s=i.attr)&&void 0!==s?s:this.Ks(n));let u=this.Qe[n];for(let t of o)null!=u||(u=this.Vs(e,this.H,t));null!=u||(u=null!==(r=i.default)&&void 0!==r?r:this.Is[n]);let c,a=i.normalize;if(a&&(u=a(u)),t.isDefined(u)&&(this.Qe[n]=u),this.Bs&&(c=up.fragment.failKey(n))){const n=t.compact(t.map(o,(t=>this.Xs(t))));this.parse(e,c,Object.assign(Object.assign({},i),{attr:n}))}}include(t){let e=t(this.H,this.Qe,this.qs);Object.assign(this.Qe,e)}Vs(t,n,i){return this.Us?e.closestAttr(n,i,t):t(n,i)}Xs(t){return this.Ws(t,this.zs+"on-")||this.Ws(t,this.zs)}Ws(t,e){if(t.startsWith(e))return`${e}fail-${t.substring(e.length)}`}Ks(e){return`${this.zs}${t.camelToKebabCase(e)}`}}},8665:()=>{const t=up.element,e=up.util;up.OverlayFocus=class OverlayFocus{constructor(t){this.j=t,this.di=this.j.getFocusElement()}moveToFront(){this.Js||(this.Js=!0,this.Gs=up.on("focusin",(t=>this.Qs(t))),this.Ys=t.setTemporaryAttrs(this.di,{tabindex:"0",role:"dialog","aria-modal":"true"}),this.Zs=t.affix(this.di,"beforebegin","up-focus-trap[tabindex=0]"),this.tr=t.affix(this.di,"afterend","up-focus-trap[tabindex=0]"))}moveToBack(){this.teardown()}teardown(){this.Js&&(this.Js=!1,this.Gs(),this.Ys(),this.Zs.remove(),this.tr.remove())}Qs(t){const{target:e}=t;this.er||up.layer.isWithinForeignOverlay(e)||(this.er=!0,e===this.Zs?this.nr():e!==this.tr&&this.j.contains(e)||this.ir(),this.er=!1)}ir(t){up.focus(this.di,t)}nr(){this.sr(this.j.getBoxElement())||this.ir()}sr(t){for(let n of e.reverse(t.children))if(up.viewport.tryFocus(n)||this.sr(n))return!0}}},3645:()=>{const t=up.util,e=up.element;up.Params=class Params{constructor(t){this.clear(),this.addAll(t)}clear(){this.entries=[]}[t.copy.key](){return new up.Params(this)}toObject(){const e={};for(let n of this.entries){const{name:i,value:s}=n;t.isBasicObjectProperty(i)||(this.rr(i)?(e[i]||(e[i]=[]),e[i].push(s)):e[i]=s)}return e}toArray(){return this.entries}toFormData(){const t=new FormData;for(let e of this.entries)t.append(e.name,e.value);return t.entries||(t.originalArray=this.entries),t}toQuery(){let e=t.map(this.entries,this.ur.bind(this));return e=t.compact(e),e.join("&")}ur(e){const{value:n}=e;if(this.cr(n))return;let i=encodeURIComponent(e.name);return t.isGiven(n)&&(i+="=",i+=encodeURIComponent(n)),i}cr(t){return t instanceof Blob}hasBinaryValues(){const e=t.map(this.entries,"value");return t.some(e,this.cr)}toURL(e){let n=[e,this.toQuery()];n=t.filter(n,t.isPresent);const i=t.contains(e,"?")?"&":"?";return n.join(i)}add(t,e){this.entries.push({name:t,value:e})}addAll(e){t.isMissing(e)||(e instanceof this.constructor?this.entries.push(...e.entries):t.isArray(e)?this.entries.push(...e):t.isString(e)?this.ar(e):t.isFormData(e)?this.hr(e):t.isObject(e)?this.lr(e):up.fail("Unsupport params type: %o",e))}lr(e){for(let n in e){const i=e[n],s=t.isArray(i)?i:[i];for(let t of s)this.add(n,t)}}ar(e){for(let n of e.split("&"))if(n){let[e,i]=n.split("=");e=decodeURIComponent(e),i=t.isGiven(i)?decodeURIComponent(i):null,this.add(e,i)}}hr(t){for(let e of t.entries())this.add(...e)}set(t,e){this.delete(t),this.add(t,e)}delete(e){this.entries=t.reject(this.entries,this.pr(e))}pr(t){return e=>e.name===t}get(t){return this.rr(t)?this.getAll(t):this.getFirst(t)}getFirst(e){const n=t.find(this.entries,this.pr(e));return null==n?void 0:n.value}getAll(e){if(this.rr(e))return this.getAll(e);{const n=t.map(this.entries,this.pr(e));return t.map(n,"value")}}rr(t){return t.endsWith("[]")}[t.isBlank.key](){return 0===this.entries.length}static fromForm(t){return this.fromContainer(t)}static fromContainer(t){let e=up.form.fields(t);return this.fromFields(e)}static fromFields(e){const n=new this;for(let i of t.wrapList(e))n.addField(i);return n}addField(t){let n=(t=e.get(t)).name;if(n&&!t.disabled){const{tagName:e}=t,{type:i}=t;if("SELECT"===e)for(let e of t.querySelectorAll("option"))e.selected&&this.add(n,e.value);else if("checkbox"===i||"radio"===i)t.checked&&this.add(n,t.value);else{if("file"!==i)return this.add(n,t.value);for(let e of t.files)this.add(n,e)}}}[t.isEqual.key](e){return this.constructor===e.constructor&&t.isEqual(this.entries,e.entries)}static fromURL(e){const n=new this;let i=t.parseURL(e).search;return i&&(i=i.replace(/^\?/,""),n.addAll(i)),n}static stripURL(e){return t.normalizeURL(e,{search:!1})}static merge(...t){return t.reduce((function(t,e){return t.addAll(e),t}),new up.Params)}}},7782:()=>{const t=up.element;up.ProgressBar=class ProgressBar{constructor(){this.dr=0,this.H=t.affix(document.body,"up-progress-bar"),this.H.style.transition="width 300ms ease-out",this.mr(0),up.element.paint(this.H),this.gr=31,this.vr()}vr(){let t;t=this.gr<80?Math.random()<.15?7+5*Math.random():1.5+.5*Math.random():.13*(100-this.gr)*Math.random(),this.mr(this.gr+t),this.dr++;const e=300+40*this.dr;this.timeout=setTimeout(this.vr.bind(this),e)}mr(t){this.gr=t,this.H.style.width=`${t}vw`}destroy(){clearTimeout(this.timeout),this.H.remove()}conclude(){clearTimeout(this.timeout),this.mr(100),setTimeout(this.destroy.bind(this),300)}}},2406:()=>{const t=up.util;up.Record=class Record{keys(){throw"Return an array of keys"}defaults(t){return{}}constructor(t){Object.assign(this,this.defaults(t),this.attributes(t))}attributes(e=this){return t.pick(e,this.keys())}[t.copy.key](){return t.variant(this)}[t.isEqual.key](e){return this.constructor===e.constructor&&t.isEqual(this.attributes(),e.attributes())}}},1279:()=>{up.Rect=class Rect extends up.Record{keys(){return["left","top","width","height"]}get bottom(){return this.top+this.height}get right(){return this.left+this.width}grow(t){this.left-=t,this.top-=t,this.width+=2*t,this.height+=2*t}static fromElement(t){return new this(t.getBoundingClientRect())}}},2714:function(){var t,e=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};const n=up.util;up.RenderJob=(t=class RenderJob{constructor(t){this.options=t}execute(){return this.br=this.yr(),this}yr(){return e(this,void 0,void 0,(function*(){try{this.wr(),this.options=up.RenderOptions.preprocess(this.options);let t=yield this._r().execute();return this.Or(t),t}catch(t){throw this.Or(t)||this.kr(t),t}}))}Or(t){if(t instanceof up.RenderResult){let{onRendered:e,onFinished:i}=t.options;t.none||up.error.guard((()=>null==e?void 0:e(t)));let s=function(t){up.error.guard((()=>null==i?void 0:i(t)))};return this.finished.then(s,n.noop),!0}}kr(t){let e=t instanceof up.Aborted?"Rendering was aborted":"Error while rendering";up.puts("up.render()",`${e}: ${t.name}: ${t.message}`),up.error.guard((()=>{var e,n;return null===(n=(e=this.options).onError)||void 0===n?void 0:n.call(e,t)}))}get finished(){return this.Sr()}Sr(){return e(this,void 0,void 0,(function*(){try{let t=yield this.br;return yield t.finished}catch(t){throw t instanceof up.RenderResult?yield t.finished:t}}))}_r(){if(this.options.url){let t=t=>this.Er(t);return new up.Change.FromURL(Object.assign(Object.assign({},this.options),{onRequest:t}))}if(this.options.response){let t=()=>this.Er(null);return new up.Change.FromResponse(Object.assign(Object.assign({},this.options),{onRender:t}))}{let t=()=>this.Er(null);return new up.Change.FromContent(Object.assign(Object.assign({},this.options),{onRender:t}))}}wr(){up.browser.assertConfirmed(this.options);let t=n.pluckKey(this.options,"guardEvent");if(t&&(t.renderOptions=this.options,up.emit(t,{target:this.options.origin}).defaultPrevented))throw new up.Aborted(`Rendering was prevented by ${t.type} listener`);up.RenderOptions.assertContentGiven(this.options)}Er(t){let{abort:e}=this.options;if(!e||!up.network.isBusy())return;let{fragments:i,layer:s,origin:r,newLayer:o}=this._r().getPreflightProps(),u={except:t,logOnce:["up.render()","Change with { abort } option will abort other requests"],newLayer:o,origin:r};"target"===e?up.fragment.abort(i,u):"layer"===e?up.fragment.abort(Object.assign(Object.assign({},u),{layer:s})):"all"===e||!0===e?up.fragment.abort(Object.assign(Object.assign({},u),{layer:"any"})):n.isFunction(e)?e(u):up.fragment.abort(e,Object.assign(Object.assign({},u),{layer:s}))}},n.delegate(t.prototype,["then","catch","finally"],(function(){return this.br})),n.memoizeMethod(t.prototype,{Sr:!0,_r:!0}),t)},2705:()=>{const t=up.util;up.RenderOptions=function(){const e={useHungry:!0,useKeep:!0,saveScroll:!0,saveFocus:!0,focus:"keep",abort:"target",failOptions:!0},n={abort:!1,confirm:!1,feedback:!1,cache:!0,background:!0},i=["url","method","origin","headers","params","cache","fallback","abort","abortable","confirm","feedback","origin","baseLayer","fail","onError"].concat(["keep","hungry","history","source","saveScroll","navigate","baseLayer"]),s=["url","response","content","fragment","document"],r=["history","focus","scroll"];function o(t){return{layers:up.layer.getAll(t),normalizeLayerOptions:!1}}return{preprocess:function(i){var s,u;null===(u=(s=up.migrate).preprocessRenderOptions)||void 0===u||u.call(s,i);const c=t.merge(e,function(t){if(t.navigate)return up.fragment.config.navigateOptions}(i));return t.merge(t.omit(c,r),{defaults:c},{inputDevice:up.event.inputDevice},i,o(i),function(t){if(t.preload)return n}(i))},finalize:function(e,n){return t.merge(e.defaults,n,e)},assertContentGiven:function(e){t.some(s,(n=>t.isGiven(e[n])))||(e.defaultToEmptyContent?e.content="":up.fail("up.render() needs either { "+s.join(", ")+" } option"))},deriveFailOptions:function(e){let n=function(t){const e={};for(let n in t){const i=t[n];let s=up.fragment.successKey(n);s&&(e[s]=i)}return e}(e),s=o(n);return e.failOptions?Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},e.defaults),t.pick(e,i)),n),s),{failPrefixForced:!0}):Object.assign(Object.assign(Object.assign({},e),n),s)}}}()},606:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};up.RenderResult=class RenderResult extends up.Record{keys(){return["fragments","layer","target","options","finished"]}defaults(){return{fragments:[]}}get none(){return!this.fragments.length}get fragment(){return this.fragments[0]}static both(t,e,n=!0){return e?new this({target:t.target,layer:t.layer,options:t.options,fragments:t.fragments.concat(e.fragments),finished:n&&this.mergeFinished(t,e)}):t}static mergeFinished(e,n){return t(this,void 0,void 0,(function*(){return this.both(yield e.finished,yield n.finished,!1)}))}static buildNone(){return new this({target:":none",finished:Promise.resolve()})}}},5437:()=>{var t;const e=up.util;up.Request=(t=class Request extends up.Record{keys(){return["method","url","hash","params","target","failTarget","headers","timeout","background","cache","expireCache","evictCache","layer","mode","context","failLayer","failMode","failContext","origin","fragments","builtAt","wrapMethod","contentType","payload","onLoading","fail","abortable","badResponseTime"]}defaults(){return{state:"new",abortable:!0,headers:{},timeout:up.network.config.timeout,builtAt:new Date}}constructor(t){var n,i,s;if(super(t),this.params=new up.Params(this.params),null==this.wrapMethod&&(this.wrapMethod=up.network.config.wrapMethod),this.jr(),(this.target||this.layer||this.origin)&&!t.basic){const t={origin:this.origin};this.layer=up.layer.get(this.layer,t),this.failLayer=up.layer.get(this.failLayer,t),this.context||(this.context=this.layer.context||{}),this.failContext||(this.failContext=(null===(n=this.failLayer)||void 0===n?void 0:n.context)||{}),this.mode||(this.mode=this.layer.mode),this.failMode||(this.failMode=null===(i=this.failLayer)||void 0===i?void 0:i.mode)}this.deferred=e.newDeferred(),null!==(s=this.badResponseTime)&&void 0!==s||(this.badResponseTime=e.evalOption(up.network.config.badResponseTime,this)),this.Cr()}get xhr(){var t;return null!==(t=this.Fr)&&void 0!==t?t:this.Fr=new XMLHttpRequest}get fragments(){if(this.Tr)return this.Tr;{let t=up.fragment.parseTargetSteps(this.target),n=e.map(t,"selector"),i={origin:this.origin,layer:this.layer};return e.compact(e.map(n,(t=>up.fragment.get(t,i))))}}set fragments(t){this.Tr=t}get fragment(){var t;return null===(t=this.fragments)||void 0===t?void 0:t[0]}jr(){this.method=e.normalizeMethod(this.method),this.Rr(),this.Pr(),this.url=e.normalizeURL(this.url)}Ar(){e.task((()=>{this.layer=void 0,this.failLayer=void 0,this.origin=void 0,this.fragments=void 0}))}Rr(){var t;let e=null===(t=this.url)||void 0===t?void 0:t.match(/^([^#]*)(#.+)$/);if(e)return this.url=e[1],this.hash=e[2]}Pr(){!this.url||this.allowsPayload()||e.isBlank(this.params)||(this.url=this.params.toURL(this.url),this.params.clear())}isSafe(){return up.network.isSafeMethod(this.method)}allowsPayload(){return e.methodAllowsPayload(this.method)}will302RedirectWithGET(){return this.isSafe()||"POST"===this.method}willCache(){return e.evalAutoOption(this.cache,up.network.config.autoCache,this)}runQueuedCallbacks(){e.always(this,(()=>this.Ar()))}load(){var t;if("new"===this.state)return this.Lr()?(this.state="loading",this.jr(),null===(t=this.onLoading)||void 0===t||t.call(this),this.expired=!1,new up.Request.XHRRenderer(this).buildAndSend({onload:()=>this.$r(),onerror:()=>this.Dr(),ontimeout:()=>this.Mr(),onabort:()=>this.Hr()}),!0):void this.abort({reason:"Prevented by event listener"})}Lr(){return!this.emit("up:request:load",{log:["Loading %s",this.description]}).defaultPrevented}loadPage(){up.network.abort(),new up.Request.FormRenderer(this).buildAndSubmit()}$r(){const t=this.Nr(),e="Loaded "+t.description;this.emit("up:request:loaded",{request:t.request,response:t,log:e}),this.respondWith(t)}Dr(){this.qr("Network error")}Mr(){this.qr("Timeout")}Hr(){this.Br()}abort({reason:t}={}){this.Br(t)&&this.Fr&&this.Fr.abort()}Br(t){if(this.Ur())return;let e="Aborted request to "+this.description+(t?": "+t:"");return this.state="aborted",this.deferred.reject(new up.Aborted(e)),this.emit("up:request:aborted",{log:e}),!0}qr(t){if(this.Ur())return;let e="Cannot load request to "+this.description+(t?": "+t:"");this.state="offline",this.emit("up:request:offline",{log:e}),this.deferred.reject(new up.Offline(e))}respondWith(t){this.response=t,this.Ur()||(this.state="loaded",t.ok?this.deferred.resolve(t):this.deferred.reject(t))}Ur(){return"new"!==this.state&&"loading"!==this.state&&"tracking"!==this.state}csrfHeader(){return up.protocol.csrfHeader()}csrfParam(){return up.protocol.csrfParam()}csrfToken(){if(!this.isSafe()&&!this.isCrossOrigin())return up.protocol.csrfToken()}isCrossOrigin(){return e.isCrossOrigin(this.url)}Nr(){const t={method:this.method,url:this.url,request:this,xhr:this.xhr,text:this.xhr.responseText,status:this.xhr.status,title:up.protocol.titleFromXHR(this.xhr),target:up.protocol.targetFromXHR(this.xhr),acceptLayer:up.protocol.acceptLayerFromXHR(this.xhr),dismissLayer:up.protocol.dismissLayerFromXHR(this.xhr),eventPlans:up.protocol.eventPlansFromXHR(this.xhr),context:up.protocol.contextFromXHR(this.xhr),expireCache:up.protocol.expireCacheFromXHR(this.xhr),evictCache:up.protocol.evictCacheFromXHR(this.xhr),fail:this.fail};let n=up.protocol.methodFromXHR(this.xhr),i=up.protocol.locationFromXHR(this.xhr);return i&&(e.matchURLs(this.url,i)||n||(n="GET"),t.url=i),n&&(t.method=n),new up.Response(t)}Qi(t){return up.EventEmitter.fromEmitArgs(t,{layer:this.layer,request:this,origin:this.origin})}emit(...t){return this.Qi(t).emit()}assertEmitted(...t){this.Qi(t).assertEmitted()}get description(){return this.method+" "+this.url}isPartOfSubtree(t){return t=e.wrapList(t),e.some(this.fragments,(function(n){return e.some(t,(t=>t.contains(n)))}))}get age(){return new Date-this.builtAt}header(t){return this.headers[t]}Cr(){for(let t of["target","failTarget","mode","failMode","context","failContext"])this.zr(t);let t,e;(t=this.csrfHeader())&&(e=this.csrfToken())&&this.Ir(t,e),this.Ir(up.protocol.headerize("version"),up.version)}zr(t){this.Ir(up.protocol.headerize(t),this[t])}Ir(t,n){e.isMissing(n)||((e.isOptions(n)||e.isArray(n))&&(n=e.safeStringifyJSON(n)),this.headers[t]=n)}mergeIfUnsent(t){if("new"!==this.state)return;if(!this.target||!t.target)return;let n=up.fragment.splitTarget(this.target+","+t.target);this.target=e.uniq(n).join(", "),this.zr("target"),this.Tr=e.uniq([...this.fragments,...t.fragments])}static tester(t,{except:n}={}){let i;if(e.isFunction(t))i=t;else if(t instanceof this)i=e=>t===e;else if(e.isString(t)){let e=new up.URLPattern(t);i=t=>e.test(t.url)}else i=e=>t;return n?t=>!up.cache.willHaveSameResponse(t,n)&&i(t):i}},e.delegate(t.prototype,["then","catch","finally"],(function(){return this.deferred})),t)},7974:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};const e=up.util;class Route{constructor(){this.varyHeaders=new Set,this.requests=[]}matchBest(t){let n=this.requests.filter((e=>this.satisfies(e,t)));return e.last(n)}delete(t){e.remove(this.requests,t)}put(t){this.requests.push(t)}updateVary(t){for(let e of t.varyHeaderNames)this.varyHeaders.add(e)}satisfies(t,n){return t===n||e.every(this.varyHeaders,(i=>{let s=t.header(i),r=n.header(i);if("X-Up-Target"===i||"X-Up-Fail-Target"===i){if(!s)return!0;if(!r)return!1;let t=e.parseTokens(s,{separator:"comma"}),n=e.parseTokens(r,{separator:"comma"});return e.containsAll(t,n)}return s===r}))}}up.Request.Cache=class Cache{constructor(){this.reset()}reset(){this.Kr={},this.Vr=[]}get(t){t=this.Xr(t);let e=this.Wr(t),n=e.matchBest(t);if(n){if(this.Jr(n))return n;this.Gr(t,e)}}put(e){return t(this,void 0,void 0,(function*(){e=this.Xr(e);let t=this.Wr(e),{response:n}=e;n&&t.updateVary(n);let i=t.requests.filter((n=>t.satisfies(e,n)));for(let t of i)this.Gr(t);e.cacheRoute=t,t.put(e),this.Vr.push(e),this.Qr()}))}alias(t,e){if(t=this.get(t))return e=this.Xr(e),this.track(t,e,{force:!0}),this.put(e),e}track(n,i,s={}){var r;return t(this,void 0,void 0,(function*(){i.trackedRequest=n,i.state="tracking";let t=yield e.always(n);t instanceof up.Response?s.force||n.cacheRoute.satisfies(n,i)?(i.fromCache=!0,t=e.variant(t,{request:i}),i.respondWith(t),e.delegate(i,["expired","state"],(()=>n))):(delete i.trackedRequest,i.state="new",null===(r=s.onIncompatible)||void 0===r||r.call(s,i)):(i.state=n.state,i.deferred.reject(t))}))}willHaveSameResponse(t,e){return t===e||t===e.trackedRequest}evict(t=!0,e){this.Yr(t,e,(t=>this.Gr(t)))}expire(t=!0,e){this.Yr(t,e,(t=>t.expired=!0))}reindex(t){this.Gr(t),this.put(t)}Gr(t){var n;e.remove(this.Vr,t),null===(n=t.cacheRoute)||void 0===n||n.delete(t),delete t.cacheRoute}Wr(t){var e,n;return t.cacheRoute||(e=this.Kr)[n=t.description]||(e[n]=new Route)}Jr(t){return t.age<up.network.config.cacheEvictAge}get Zr(){return this.Vr.length}get Pn(){return up.network.config.cacheSize}Qr(){for(let t=0;t<this.Zr-this.Pn;t++)this.Gr(this.Vr[0])}Yr(t=!0,n,i){let s=up.Request.tester(t,n),r=e.filter(this.Vr,s);e.each(r,i)}Xr(t){return e.wrapValue(up.Request,t)}}},5221:()=>{const t=up.util,e=up.element,n=["GET","POST"];up.Request.FormRenderer=class FormRenderer{constructor(t){this.vt=t}buildAndSubmit(){this.params=t.copy(this.vt.params);let i=this.vt.url,{method:s}=this.vt;const r=up.Params.fromURL(i);this.params.addAll(r),i=up.Params.stripURL(i),t.contains(n,s)||(s=up.protocol.wrapMethod(s,this.params)),this.Mn=e.affix(document.body,"form.up-request-loader",{method:s,action:i});let o,u,c=this.vt.contentType;c&&this.Mn.setAttribute("enctype",c),(o=this.vt.csrfParam())&&(u=this.vt.csrfToken())&&this.params.add(o,u),t.each(this.params.toArray(),this.eo.bind(this)),up.browser.submitForm(this.Mn)}eo(t){e.affix(this.Mn,"input[type=hidden]",t)}}},6413:()=>{const t=up.util;up.Request.Queue=class Queue{constructor(){this.reset()}reset(){this.no=[],this.io=[],this.so=!1}get allRequests(){return this.io.concat(this.no)}asap(e){e.runQueuedCallbacks(),t.always(e,(t=>this.Et(e,t))),this.ro(e),this.oo(e),queueMicrotask((()=>this.uo()))}promoteToForeground(t){t.background&&(t.background=!1,this.ro(t))}ro(e){let n=Math.max(e.badResponseTime-e.age,0);t.timer(n,(()=>this.co()))}ao(){return t.evalOption(up.network.config.concurrency)}ho(){const t=this.ao();return-1===t||this.io.length<t}isBusy(){return this.io.length>0||this.no.length>0}oo(t){this.no.push(t)}lo(){let e=t.find(this.no,(t=>!t.background));return e||(e=this.no[0]),t.remove(this.no,e)}po(t){t.load()&&this.io.push(t)}Et(e,n){t.remove(this.io,e)||t.remove(this.no,e),n instanceof up.Response&&n.ok&&up.network.registerAliasForRedirect(e,n),this.co(),queueMicrotask((()=>this.uo()))}uo(){let t;if(this.ho()&&(t=this.lo()))return this.po(t)}abort(...e){var n;let i=t.extractOptions(e),{except:s,reason:r,logOnce:o}=i,u=null===(n=e[0])||void 0===n||n,c=up.Request.tester(u,{except:s});for(let e of[this.io,this.no]){const n=t.filter(e,c);for(let i of n)o&&(up.puts(...o),o=null),i.abort({reason:r}),t.remove(e,i)}}co(){const t=this.fo();this.so!==t&&(this.so=t,t?up.emit("up:network:late",{log:"Server is slow to respond"}):up.emit("up:network:recover",{log:"Slow requests were loaded"}))}fo(){const e=t.reject(this.allRequests,"background");return t.some(e,(t=>t.age>=t.badResponseTime-1))}}},2298:()=>{var t;const e="multipart/form-data",n=up.util;up.Request.XHRRenderer=(t=class XHRRenderer{constructor(t){this.vt=t}buildAndSend(t){const e=this.vt.xhr;this.do=n.copy(this.vt.params),this.vt.timeout&&(e.timeout=this.vt.timeout),e.open(this.mo(),this.vt.url);let i=this.vo();i&&e.setRequestHeader("Content-Type",i);for(let t in this.vt.headers){let n=this.vt.headers[t];e.setRequestHeader(t,n)}Object.assign(e,t),e.send(this.bo())}mo(){let t=this.vt.method;return this.vt.wrapMethod&&!this.vt.will302RedirectWithGET()&&(t=up.protocol.wrapMethod(t,this.do)),t}vo(){return this.yo(),this.wo}bo(){return this.yo(),this._o}yo(){this._o=this.vt.payload,this.wo=this.vt.contentType,!this._o&&this.vt.allowsPayload()&&(this.wo||(this.wo=this.do.hasBinaryValues()?e:"application/x-www-form-urlencoded"),this.wo===e?(this.wo=null,this._o=this.do.toFormData()):this._o=this.do.toQuery().replace(/%20/g,"+"))}},n.memoizeMethod(t.prototype,{yo:!0,mo:!0}),t)},4517:()=>{const t=up.util;up.Response=class Response extends up.Record{keys(){return["method","url","text","status","request","xhr","target","title","acceptLayer","dismissLayer","eventPlans","context","expireCache","evictCache","headers","loadedAt","fail"]}defaults(){return{headers:{},loadedAt:new Date}}get ok(){var e;return!t.evalOption(null!==(e=this.fail)&&void 0!==e?e:up.network.config.fail,this)}get none(){return!this.text}header(t){var e;return this.headers[t]||(null===(e=this.xhr)||void 0===e?void 0:e.getResponseHeader(t))}get varyHeaderNames(){let e=this.header("Vary");return t.parseTokens(e,{separator:"comma"})}get contentType(){return this.header("Content-Type")}get cspNonces(){return up.protocol.cspNoncesFromHeader(this.header("Content-Security-Policy")||this.header("Content-Security-Policy-Report-Only"))}get lastModified(){let t=this.header("Last-Modified");if(t)return new Date(t)}get etag(){return this.header("ETag")}get json(){return this.parsedJSON||(this.parsedJSON=JSON.parse(this.text))}get age(){return new Date-this.loadedAt}get expired(){return this.age>up.network.config.cacheExpireAge||this.request.expired}get description(){return`HTTP ${this.status} response to ${this.request.description}`}}},7241:()=>{var t;const e=up.util,n=up.element,i=/^\s*<(html|!DOCTYPE)\b/i;up.ResponseDoc=(t=class ResponseDoc{constructor({document:t,fragment:e,content:n,target:i,origin:s,cspNonces:r,match:o}){if(t?this.Oo(t):e?this.ko(e):this.So(n||"",i),this.xo=r,s){let t=up.fragment.tryToTarget(s);t&&(this.Eo=this.select(t))}this.ri=o}Oo(t){t instanceof Document?(this.si=t,this.jo=!0):e.isString(t)?(this.si=n.createBrokenDocumentFromHTML(t),this.jo=i.test(t),this.Co=!0):(this.si=this.Fo(t),this.jo=t.matches("html"))}ko(t){let i=e.isString(t)?n.createFromHTML(t):t;this.si=this.Fo(i)}So(t,i){i||up.fail("must pass a { target } when passing { content }");let s=e.map(up.fragment.parseTargetSteps(i),"selector").join();const r=n.createFromSelector(s);e.isString(t)?r.innerHTML=t:r.appendChild(t),this.si=this.Fo(r)}Fo(t){let e=document.createElement("up-document");return e.append(t),e.documentElement=t,e}rootSelector(){return up.fragment.toTarget(this.si.documentElement)}get title(){return this.To(this.Ro)}Po(){if(this.jo)return this.si.head}To(t){let e=this.Po();return e&&t(e)}get metaTags(){return this.To(up.history.findMetaTags)}get assets(){return this.To(up.script.findAssets)}get lang(){if(this.jo)return up.history.getLang(this.si)}Ro(t){var e;return null===(e=t.querySelector("title"))||void 0===e?void 0:e.textContent}select(t){return new up.FragmentFinder({selector:t,origin:this.Eo,document:this.si,match:this.ri}).find()}selectSteps(t){return t.filter((t=>this.Ao(t)||this.Lo(t)))}commitSteps(t){return t.filter((t=>this.commitElement(t.newElement)))}Ao(t){if(t.newElement)return!0;let e=this.select(t.selector);if(!e)return;let{selectEvent:n}=t;return n&&(n.newFragment=e,n.renderOptions=t.originalRenderOptions,up.emit(t.oldElement,n,{callback:t.selectCallback}),n.defaultPrevented)?void 0:(t.newElement=e,!0)}Lo(t){if(!t.maybe)throw new up.CannotMatch}commitElement(t){if(this.si.contains(t))return up.fragment.config.runScripts||up.script.disableSubtree(t),t.remove(),!0}finalizeElement(t){if(up.NonceableCallback.adoptNonces(t,this.xo),this.Co){let i=n.subtree(t,":is(noscript,script,audio,video):not(.up-keeping, .up-keeping *)");e.each(i,n.fixParserDamage)}}},e.memoizeMethod(t.prototype,{Po:!0}),t)},2723:()=>{const t=up.element,e=up.util;up.RevealMotion=class RevealMotion{constructor(e,n={}){var i,s,r,o,u,c,a,h,l,p;this.H=e,this.$o=t.get(n.viewport)||up.viewport.get(this.H),this.Do=up.layer.get(this.$o),this.Mo=null!==(s=null!==(i=n.scrollBehavior)&&void 0!==i?i:n.behavior)&&void 0!==s?s:"instant";const f=up.viewport.config;this.Ho=null!==(o=null!==(r=n.snap)&&void 0!==r?r:n.revealSnap)&&void 0!==o?o:f.revealSnap,this.No=null!==(c=null!==(u=n.padding)&&void 0!==u?u:n.revealPadding)&&void 0!==c?c:f.revealPadding,this.qo=null!==(h=null!==(a=n.top)&&void 0!==a?a:n.revealTop)&&void 0!==h?h:f.revealTop,this.Bo=null!==(p=null!==(l=n.max)&&void 0!==l?l:n.revealMax)&&void 0!==p?p:f.revealMax,this.Uo=f.selector("fixedTopSelectors"),this.zo=f.selector("fixedBottomSelectors")}start(){const t=this.Io(this.$o),n=up.Rect.fromElement(this.H);if(this.Bo){const t=e.evalOption(this.Bo,this.H);n.height=Math.min(n.height,t)}n.grow(this.No),this.Ko(t),t.height<0&&up.fail("Viewport has no visible area");const i=this.$o.scrollTop;let s=i;this.qo||n.height>t.height?s+=n.top-t.top:n.top<t.top?s-=t.top-n.top:n.bottom>t.bottom&&(s+=n.bottom-t.bottom),e.isNumber(this.Ho)&&s<this.Ho&&n.top<.5*t.height&&(s=0),s!==i&&this.$o.scrollTo({top:s,behavior:this.Mo})}Io(){return up.viewport.isRoot(this.$o)?new up.Rect({left:0,top:0,width:up.viewport.rootWidth(),height:up.viewport.rootHeight()}):up.Rect.fromElement(this.$o)}Vo(n){let i=up.fragment.all(n,{layer:this.Do});return e.filter(i,t.isVisible)}Ko(t){for(let e of this.Vo(this.Uo)){let n=up.Rect.fromElement(e).bottom-t.top;n>0&&(t.top+=n,t.height-=n)}for(let e of this.Vo(this.zo)){let n=up.Rect.fromElement(e),i=t.bottom-n.top;i>0&&(t.height-=i)}}}},8720:()=>{const t=up.util,e=/:has\(([^)]+)\)$/;up.Selector=class Selector{constructor(n,i,s={}){var r;let o;if(this.Xo=[],s.destroying||this.Xo.push(up.fragment.isNotDestroying),i&&!document.contains(i)||"any"===s.layer)o=up.layer.root;else{if(null!==(r=s.layer)&&void 0!==r||(s.layer=t.presence(i,t.isElement)),this.J=up.layer.getAll(s),!this.J.length)throw new up.CannotMatch(["Unknown layer: %o",s.layer]);this.Xo.push((e=>t.some(this.J,(t=>t.contains(e))))),o=this.J[0]}let u=up.fragment.expandTargets(n,Object.assign(Object.assign({},s),{layer:o}));this.Wo=u.map((t=>(up.browser.canHasSelector()||(t=t.replace(e,((t,e)=>(this.Xo.push((t=>t.querySelector(e))),"")))),t||"*"))),this.Jo=this.Wo.join()||"match-none"}matches(t){return t.matches(this.Jo)&&this.Go(t)}closest(t){let e;return this.matches(t)?t:(e=t.parentElement)?this.closest(e):void 0}Go(e){return t.every(this.Xo,(t=>t(e)))}descendants(e=document){const n=t.flatMap(this.Wo,(t=>e.querySelectorAll(t)));return t.filter(n,(t=>this.Go(t)))}subtree(t){const e=[];return t instanceof Document||!this.matches(t)||e.push(t),e.push(...this.descendants(t)),e}}},7885:()=>{const t=up.util,e=up.element;up.Tether=class Tether{constructor(t){var n,i;null===(i=(n=up.migrate).handleTetherOptions)||void 0===i||i.call(n,t),this.Qo=t.anchor,this.Yo=t.align,this.Zo=t.position,this.tu="top"===this.Zo||"bottom"===this.Zo?"horizontal":"vertical",this.$o=up.viewport.get(this.Qo),this.parent=this.$o===e.root?document.body:this.$o,this.eu=!this.$o.contains(this.Qo.offsetParent)}start(t){this.H=t,this.H.style.position="absolute",this.nu(0,0),this.sync(),this.iu("on")}stop(){this.iu("off")}iu(t){let e=this.su.bind(this);up[t](window,"resize",e),this.eu&&up[t](this.$o,"scroll",e)}su(){return clearTimeout(this.syncTimer),this.syncTimer=t.task(this.sync.bind(this))}isDetached(){return!this.parent.isConnected||!this.Qo.isConnected}sync(){const n=this.H.getBoundingClientRect(),i=e.styleNumber(this.H,"margin-top"),s=e.styleNumber(this.H,"margin-right"),r=e.styleNumber(this.H,"margin-bottom"),o=e.styleNumber(this.H,"margin-left"),u=this.Qo.getBoundingClientRect();let c,a;switch(this.tu){case"horizontal":switch(this.Zo){case"top":a=u.top-r-n.height;break;case"bottom":a=u.top+u.height+i}switch(this.Yo){case"left":c=u.left+o;break;case"center":c=u.left+.5*(u.width-n.width);break;case"right":c=u.left+u.width-n.width-s}break;case"vertical":switch(this.Yo){case"top":a=u.top+i;break;case"center":a=u.top+.5*(u.height-n.height);break;case"bottom":a=u.top+u.height-n.height-r}switch(this.Zo){case"left":c=u.left-s-n.width;break;case"right":c=u.left+u.width+o}}t.isDefined(c)||t.isDefined(a)?this.mr(c,a):up.fail("Invalid tether constraints: %o",this.ru())}ru(){return{position:this.Zo,align:this.Yo}}mr(t,e){const n=this.H.getBoundingClientRect();this.nu(t-n.left+this.offsetLeft,e-n.top+this.offsetTop)}nu(t,n){this.offsetLeft=t,this.offsetTop=n,e.setStyle(this.H,{left:t,top:n},"px")}}},4818:()=>{const t=up.util;up.URLPattern=class URLPattern{constructor(e){this.ou=[];const n=[],i=[];for(let s of t.parseTokens(e))"-"===s[0]?i.push(s.substring(1)):n.push(s);this.uu=this.cu(n,!0),this.au=this.cu(i,!1)}cu(e,n){if(!e.length)return;let i=(e=(e=t.flatMap(e,t.matchableURLPatternAtom)).map(t.escapeRegExp)).join("|");return i=i.replace(/\\\*/g,".*?"),i=i.replace(/(:|\\\$)([a-z][\w-]*)/gi,((t,e,i)=>"\\$"===e?(n&&this.ou.push({name:i,cast:Number}),"(\\d+)"):(n&&this.ou.push({name:i,cast:String}),"([^/?#]+)"))),new RegExp("^(?:"+i+")$")}test(e,n=!0){return n&&(e=t.matchableURL(e)),this.uu.test(e)&&!this.hu(e)}recognize(e,n=!0){n&&(e=t.matchableURL(e));let i=this.uu.exec(e);if(i&&!this.hu(e)){const t={};return this.ou.forEach(((e,n)=>{let s=i[n+1];if(s)return t[e.name]=e.cast(s)})),t}}hu(t){var e;return null===(e=this.au)||void 0===e?void 0:e.test(t)}}},9675:(t,e,n)=>{n(5941),up.element=function(){const t=up.util;function e(...t){const e=t.pop();return(t[0]||document).querySelector(e)}function n(t,e){const n=[];return t.matches(e)&&n.push(t),n.push(...t.querySelectorAll(e)),n}function i(...n){const i=n.pop();return t.isElement(i)?i:t.isString(i)?e(...n,i):t.isList(i)?(i.length>1&&up.fail("up.element.get(): Cannot cast multiple elements (%o) to a single element",i),i[0]):i}function s(...e){return t.flatMap(e,r)}function r(e){return t.isString(e)?document.querySelectorAll(e):t.wrapList(e)}function o(t){t.setAttribute("hidden","")}function u(t){t.removeAttribute("hidden"),"none"===t.style.display&&(t.style.display="")}function c(e,n){for(let i in n){const s=n[i];t.isGiven(s)?e.setAttribute(i,s):e.removeAttribute(i)}}function a(e,n={}){let i,s,r,{includePath:o}=h(e);for(let t of o){let{tagName:e,id:n,classNames:o,attributes:u}=t;e&&"*"!==e||(e="div"),s=document.createElement(e),i||(i=s),n&&(s.id=n);for(let t of o)s.classList.add(t);for(let t in u){let e=u[t];s.setAttribute(t,e||"")}null==r||r.appendChild(s),r=s}for(let e in n){let s=n[e];if("class"===e)for(let e of t.wrapList(s))i.classList.add(e);else"style"===e?x(i,s):"text"===e?i.textContent=s:"content"===e?i.innerHTML=s:i.setAttribute(e,s)}return i}function h(t){let e;const n=t.replace(/:not\([^)]+\)/,(function(t){return e=t,""})),[i,s]=function(t){let e=[];return[t=p(t,(function({name:t,value:n}){return e.push(n),`[${t}]`})),e]}(n);return{includePath:i.split(/[ >]+/).map((function(e){let n={tagName:null,classNames:[],id:null,attributes:{}};return e=(e=(e=e.replace(/^[\w-*]+/,(function(t){return n.tagName=t,""}))).replace(/#([\w-]+)/,(function(t,e){return n.id=e,""}))).replace(/\.([\w-]+)/g,(function(t,e){return n.classNames.push(e),""})),s.length&&(e=p(e,(function({name:t}){return n.attributes[t]=s.shift(),""}))),e&&up.fail("Cannot parse selector: "+t),n})),includeRaw:n,excludeRaw:e}}const l=/\[([\w-]+)(?:([~|^$*]?=)(["'])?([^\3\]]*?)\3)?]/g;function p(t,e){return t.replace(l,(function(t,n,i,s,r){return r&&(r=r.replace(/\\([\\"'])/,"$1")),e({name:n,operator:i,quote:s,value:r})}))}const f=["HTML","BODY","HEAD","TITLE"];function d(e,n){return t.isGiven(n)?`[${e}="${n=n.replace(/"/g,'\\"')}"]`:`[${e}]`}function m(t){const e=document.createRange();e.setStart(document.body,0);let n=e.createContextualFragment(t.trim()).childNodes;if(1!==n.length)throw new Error("HTML must have a single root element");return n[0]}function g(t){t.offsetHeight}function v(e,n,i){t.isMissing(e.getAttribute(n))&&e.setAttribute(n,i)}function b(e,n){let i=e.getAttribute(n);return t.replaceValue(i,null,void 0)}function y(t,e,n){if(!t.hasAttribute(e))return;const i=b(t,e);switch(i){case"false":return!1;case"true":case"":case e:return!0;default:return!n||i}}function w(t,e){const n=k(t,Object.keys(e));return x(t,e),()=>x(t,n)}function _(t,e){return S(window.getComputedStyle(t),e)}function O(e,n){const i=_(e,n);if(t.isPresent(i))return parseFloat(i)}function k(t,e){const{style:n}=t;return S(n,e)}function S(e,n){return up.migrate.loaded&&(n=up.migrate.fixStyleProps(n)),t.isString(n)?e.getPropertyValue(n):t.mapObject(n,(t=>[t,e.getPropertyValue(t)]))}function x(e,n,i=""){if(up.migrate.loaded&&(n=up.migrate.fixStyleProps(n,i)),t.isString(n))e.setAttribute("style",n);else{const{style:t}=e;for(let e in n){let s=n[e];t.setProperty(e,s+i)}}}function E(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)}function j(t){return/^up-/.test(t)}return{subtree:n,contains:function(t,e){const n=i(e);return Node.prototype.contains.call(t,n)},closestAttr:function(t,e,n=b){let i=t.closest("["+e+"]");if(i)return n(i,e)},ancestor:function(t,e){var n;return null===(n=t.parentNode)||void 0===n?void 0:n.closest(e)},around:function(t,e){return s(t.closest(e),n(t,e))},get:i,list:s,toggle:function(t,e){null==e&&(e=!E(t)),(e?u:o)(t)},hide:o,show:u,metaContent:function(t){var n;return null===(n=e("meta"+d("name",t)))||void 0===n?void 0:n.getAttribute("content")},insertBefore:function(t,e){t.insertAdjacentElement("beforebegin",e)},createFromSelector:a,setAttrs:c,setTemporaryAttrs:function(t,e){const n={};for(let i of Object.keys(e))n[i]=t.getAttribute(i);return c(t,e),()=>c(t,n)},affix:function(e,...n){let i,s;const r=t.extractOptions(n);2===n.length?[i,s]=n:(i="beforeend",s=n[0]);const o=a(s,r);return e.insertAdjacentElement(i,o),o},idSelector:function(t){return t.match(/^[a-z][a-z0-9\-_]*$/i)?`#${t}`:d("id",t)},classSelector:function(t){return`.${t=t.replace(/[^\w-]/g,"\\$&")}`},isSingleton:up.mockable((t=>t.matches(f.join()))),attrSelector:d,tagName:function(t){return t.tagName.toLowerCase()},createBrokenDocumentFromHTML:function(t){return(new DOMParser).parseFromString(t,"text/html")},fixParserDamage:function(t){let e=m(t.outerHTML);t.replaceWith(e)},createFromHTML:m,get root(){return document.documentElement},paint:g,concludeCSSTransition:function(t){const e=w(t,{transition:"none"});return g(t),e},hasCSSTransition:function(t){const e=t["transition-property"],n=t["transition-duration"];return!("none"===e||"all"===e&&0===n)},fixedToAbsolute:function(t){const e=t.getBoundingClientRect();t.style.position="absolute";const n=t.offsetParent.getBoundingClientRect();x(t,{left:e.left-O(t,"margin-left")-n.left+"px",top:e.top-O(t,"margin-top")-n.top+"px",right:"",bottom:""})},setMissingAttrs:function(t,e){for(let n in e)v(t,n,e[n])},setMissingAttr:v,unwrap:function(e){!function(n){const i=document.activeElement;try{return function(){const n=e.parentNode,i=t.toArray(e.childNodes);t.each(i,(t=>n.insertBefore(t,e))),n.removeChild(e)}()}finally{i&&i!==document.activeElement&&i.focus({preventScroll:!0})}}()},wrapChildren:function(t){let e;const n=document.createElement("up-wrapper");for(;e=t.firstChild;)n.appendChild(e);return t.appendChild(n),n},attr:b,booleanAttr:y,numberAttr:function(t,e){let n=t.getAttribute(e);if(n&&(n=n.replace(/_/g,""),n.match(/^-?[\d.]+$/)))return parseFloat(n)},jsonAttr:function(t,e){var n,i;let s=null===(i=null===(n=t.getAttribute)||void 0===n?void 0:n.call(t,e))||void 0===i?void 0:i.trim();if(s)return JSON.parse(s)},callbackAttr:function(e,n,{exposedKeys:i=[],mainKey:s="event"}={}){let r=e.getAttribute(n);if(r){const n=up.NonceableCallback.fromString(r).toFunction(s,...i);return function(s){const r=Object.values(t.pick(s,i));return n.call(e,s,...r)}}},booleanOrStringAttr:function(t,e,n=!0){let i=y(t,e,!0);return!0===i?n:i},setTemporaryStyle:w,style:_,styleNumber:O,inlineStyle:k,setStyle:x,isVisible:E,upAttrs:function(e){let n=t.filter(e.getAttributeNames(),j);return t.mapObject(n,(t=>[t,e.getAttribute(t)]))},upClasses:function(e){return t.filter(e.classList.values(),j)},toggleAttr:function(t,e,n,i){return null==i&&(i=!t.hasAttribute(e)),i?t.setAttribute(e,n):t.removeAttribute(e)},addTemporaryClass:function(t,e){return t.classList.add(e),()=>t.classList.remove(e)},cleanJQuery:function(t){up.browser.canJQuery()&&jQuery(t).remove()},parseSelector:h,isEmpty:function(t){return!t.children.length>0&&!t.innerText.trim()},crossOriginSelector:function(t){return`[${t}*="//"]:not([${t}*="//${location.host}/"])`},isIntersectingWindow:function(t,{margin:e=0}={}){const n=up.Rect.fromElement(t);return n.grow(e),n.bottom>0&&n.top<window.innerHeight&&n.right>0&&n.left<window.innerWidth},unionSelector:function(e,n){let i=`:is(${e.join()})`;return t.isPresent(n)&&(i+=`:not(${n.join()})`),i}}}()},3924:()=>{up.error=function(){function t(t){if("object"!=typeof(e=t)||!("AbortError"===e.name||e instanceof up.RenderResult||e instanceof up.Response))throw t;var e}function e(t){try{return t()}catch(t){!function(t){console.error("Uncaught %o",t);let e=new ErrorEvent("error",{error:t,message:"Uncaught "+t});window.dispatchEvent(e)}(t)}}return{fail:function(...t){throw new up.Error(t)},throwCritical:t,muteUncriticalRejection:function(e){return e.catch(t)},muteUncriticalSync:function(e){try{return e()}catch(e){t(e)}},guard:e,guardFn:function(t){return(...n)=>e((()=>t(...n)))}}}(),up.fail=up.error.fail},4366:()=>{up.Aborted=class Aborted extends up.Error{constructor(t){super(t,{name:"AbortError"})}}},8010:()=>{up.CannotMatch=class CannotMatch extends up.Error{}},4861:()=>{up.CannotParse=class CannotParse extends up.Error{}},3469:()=>{up.CannotTarget=class CannotTarget extends up.Error{}},376:()=>{up.Error=class Error extends window.Error{constructor(t,e={}){Array.isArray(t)&&(t=up.util.sprintf(...t)),super(t);let n="up."+this.constructor.name;Object.assign(this,{name:n},e)}}},8272:()=>{up.NotImplemented=class NotImplemented extends up.Error{}},4504:()=>{up.Offline=class Offline extends up.Error{}},8670:()=>{up.event=function(){const t=up.util,e=up.element;function n(...t){return i(t).bind()}function i(t,e){return up.EventListenerGroup.fromBindArgs(t,e)}function s(t){return up.EventEmitter.fromEmitArgs(t)}function r(...e){const n=t.extractOptions(e),i=e[0]||n.type||up.fail("Missing event type"),s=new Event(i,{bubbles:!0,cancelable:!0});return Object.assign(s,t.omit(n,["type","target"])),s}const o=["metaKey","shiftKey","ctrlKey","altKey"];function u(e){return(t.isUndefined(e.button)||0===e.button)&&!t.some(o,(t=>e[t]))}function c(e,n,i=[]){const s=r(n,t.pick(e,i));return s.originalEvent=e,["stopPropagation","stopImmediatePropagation","preventDefault"].forEach((function(t){const n=s[t];return s[t]=function(){return e[t](),n.call(s)}})),e.defaultPrevented&&s.preventDefault(),s}n("up:click","[up-emit]",(function(t,n){if(!u(t))return;const i=e.attr(n,"up-emit"),s=e.jsonAttr(n,"up-emit-props"),r=c(t,i);Object.assign(r,s),up.emit(n,r)}));let a=["unknown"];function h(t){a.push(t),setTimeout((()=>a.pop()))}return n("keydown keyup",{capture:!0},(()=>h("key"))),n("pointerdown pointerup",{capture:!0},(()=>h("pointer"))),n("up:framework:reset",(function(){for(let t of[window,document,e.root,document.body])for(let e of up.EventListener.allNonDefault(t))e.unbind()})),{on:n,off:function(...t){return i(t).unbind()},build:r,emit:function(...t){return s(t).emit()},assertEmitted:function(...t){return s(t).assertEmitted()},onEscape:function(t){return n("keydown",(function(e){if("Escape"===e.key)return t(e)}))},halt:function(t,e={}){e.log&&up.log.putsEvent(t),t.stopImmediatePropagation(),t.preventDefault()},isUnmodified:u,isSyntheticClick:function(e){return t.isMissing(e.clientX)},fork:c,keyModifiers:o,get inputDevice(){return t.last(a)}}}(),up.on=up.event.on,up.off=up.event.off,up.emit=up.event.emit},454:()=>{up.feedback=function(){const t=up.util,e=up.element,n=new up.Config((()=>({currentClasses:["up-current"],navSelectors:["[up-nav]","nav"],noNavSelectors:["[up-nav=false]"]}))),i="a, [up-href]";function s(t){return t.upFeedbackURLs||(t.upFeedbackURLs=new up.LinkFeedbackURLs(t))}function r(t,{layer:r}={}){r||(r=up.layer.get(t));let u=o(r);const c=n.selector("navSelectors"),a=`${c} :is(${i}), ${c}:is(${i})`,h=up.fragment.all(a,{layer:r});for(let t of h){const i=s(t).isCurrent(u);for(let e of n.currentClasses)t.classList.toggle(e,i);e.toggleAttr(t,"aria-current","page",i)}}function o(e){return e.feedbackLocation||t.matchableURL(e.location)}function u(t){const e=t.feedbackLocation,n=o(t.location);e&&e===n||(t.feedbackLocation=n,r(t.element,{layer:t}))}return up.on("up:location:changed",(t=>{!function(){const t=up.layer.front;t.showsLiveHistory()&&u(t)}()})),up.on("up:fragment:compile",((t,e)=>{r(e)})),up.on("up:layer:location:changed",(t=>{u(t.layer)})),up.on("up:framework:reset",(function(){up.layer.root.feedbackLocation=null})),{config:n,showAroundRequest:function(n,s){if(!s.feedback)return;let r=e=>t.always(n,e),o=function(t){let n=t.origin;if(n)return s=n,e.ancestor(s,i)||s;var s}(n);o&&r(e.addTemporaryClass(o,"up-active"));for(let t of n.fragments)r(e.addTemporaryClass(t,"up-loading"))}}}()},2851:()=>{up.form=function(){const t=up.util,e=up.element,n=new up.Config((()=>({groupSelectors:["[up-form-group]","fieldset","label","form"],fieldSelectors:["select","input:not([type=submit]):not([type=image])","button[type]:not([type=submit])","textarea"],submitSelectors:["form:is([up-submit], [up-target], [up-layer], [up-transition])"],noSubmitSelectors:["[up-submit=false]","[target]",e.crossOriginSelector("action")],submitButtonSelectors:["input[type=submit]","input[type=image]","button[type=submit]","button:not([type])"],watchInputEvents:["input","change"],watchInputDelay:0,watchChangeEvents:["change"]})));function i(t=""){return n.fieldSelectors.map((e=>e+t)).join()}function s(t){return t.matches(i())}function r(n){n=e.get(n);let s=e.subtree(n,i());if(n.matches("form[id]")){const r=i(e.attrSelector("form",n.getAttribute("id"))),o=up.fragment.all(r,{layer:n});s.push(...o),s=t.uniq(s)}return s}function o(t){return e.subtree(t,c())}function u(t){return null==t?void 0:t.matches(c())}function c(){return n.selector("submitButtonSelectors")}const a=up.mockable(((t,e)=>up.render(h(t,e))));function h(e,n,i){e=S(e),n=t.options(n);let s=new up.OptionsParser(e,n,i);return s.include(d),s.string("failTarget",{default:up.fragment.tryToTarget(e)}),s.booleanOrString("disable"),n.guardEvent||(n.guardEvent=up.event.build("up:form:submit",{submitButton:n.submitButton,log:"Submitting form",params:n.params,form:e})),n.origin||(n.origin=up.viewport.focusedElementWithin(e)||n.submitButton||e),s.include(up.link.followOptions),n}function l(t){let e,n=document.activeElement,i=[...r(t),...o(t)];for(let t of i)t===n&&(e=b(n)),p(t);return e&&up.focus(e,{force:!0,preventScroll:!0}),function(){i.forEach(f)}}function p(t){t.upDisableCount||(t.upDisableCount||(t.upDisableCount=0),t.upOriginalDisabled=t.disabled),t.upDisableCount++,t.disabled=!0}function f(t){t.upDisableCount&&(t.disabled?(t.upDisableCount--,t.upDisableCount||(t.disabled=t.upOriginalDisabled)):t.upDisableCount=0)}function d(e,n,i){var s;n=t.options(n),e=S(e);const r=new up.OptionsParser(e,n,i);r.string("contentType",{attr:"enctype"}),r.json("headers");const u=up.Params.fromForm(e),c=null!==(s=n.submitButton)&&void 0!==s?s:n.submitButton=o(e)[0];return c&&(u.addField(c),n.method||(n.method=c.getAttribute("formmethod")),n.url||(n.url=c.getAttribute("formaction"))),u.addAll(n.params),n.params=u,r.string("url",{attr:"action",default:up.fragment.source(e)}),r.string("method",{attr:["up-method","data-method","method"],default:"GET",normalize:t.normalizeMethod}),"GET"===n.method&&(n.url=up.Params.stripURL(n.url)),n}function m(e,...n){e=up.element.get(e);const i=t.extractCallback(n)||function(t){let e=t.getAttribute("up-watch");if(e)return up.NonceableCallback.fromString(e).toFunction("value","name").bind(t)}(e)||up.fail("No callback given for up.watch()");let s=t.extractOptions(n);const r=new up.FieldWatcher(e,s,i);return r.start(),()=>r.stop()}function g(t,e={}){return m(t,{options:e,batch:!0},((e,n)=>a(t,n)))}function v(){var t,e;return(null===(e=(t=up.migrate).migratedFormGroupSelectors)||void 0===e?void 0:e.call(t))||n.groupSelectors}function b(t){return y(t).element}function y(e){return t.findResult(v(),(function(t){let n=e.closest(t);if(n){let i=up.fragment.tryToTarget(n),s=up.fragment.tryToTarget(e),r=i||s&&n!==e&&`${t}:has(${s})`;if(r)return{target:r,element:n,origin:e}}}))}function w(n){let i,s;if(n.matches("input[type=checkbox]"))n.checked?(i=n.value,s=":checked"):s=":unchecked";else if(n.matches("input[type=radio]")){const t=x(n),r=n.getAttribute("name"),o=t.querySelector(`input[type=radio]${e.attrSelector("name",r)}:checked`);o?(s=":checked",i=o.value):s=":unchecked"}else i=n.value;const r=[];return t.isPresent(i)?(r.push(i),r.push(":present")):r.push(":blank"),t.isPresent(s)&&r.push(s),r}function _(t,e={}){const n=e.target||e.target||t.getAttribute("up-switch"),i=x(t);n||up.fail("No switch target given for %o",t);const s=w(t);for(let t of up.fragment.all(i,n))O(t,s)}const O=up.mockable((function(n,i){let s;i||(i=w(function(e){const n=x(e).querySelectorAll("[up-switch]");return t.find(n,(function(t){const n=t.getAttribute("up-switch");return e.matches(n)}))||up.fail("Could not find [up-switch] field for %o",e)}(n)));let r=n.getAttribute("up-hide-for");if(r)r=k(r),s=0===t.intersect(i,r).length;else{let e=n.getAttribute("up-show-for");e=e?k(e):[":present",":checked"],s=t.intersect(i,e).length>0}e.toggle(n,s),n.classList.add("up-switched")}));function k(e){return t.parseTokens(e,{json:!0})}function S(t,e={}){const n=up.fragment.get(t,e);return n.form||n.closest("form")}function x(t,e){return S(t,e)||up.layer.get(t).element}return up.on("submit",n.selectorFn("submitSelectors"),(function(e,n){if(e.defaultPrevented)return;const i=t.presence(e.submitter,u);up.event.halt(e,{log:!0}),up.error.muteUncriticalRejection(a(n,{submitButton:i}))})),up.compiler((function(){let t=n.fieldSelectors.map((t=>`${t}[up-validate], [up-validate] ${t}`));return e.unionSelector(t,["[up-validate=false]"])}),(function(t){up.FormValidator.forElement(t).watchContainer(t)})),up.compiler("[up-switch]",(t=>{_(t)})),up.on("change","[up-switch]",((t,e)=>{_(e)})),up.compiler("[up-show-for]:not(.up-switched), [up-hide-for]:not(.up-switched)",(t=>{O(t)})),up.attribute("up-watch",(t=>m(t))),up.attribute("up-autosubmit",(t=>g(t))),{config:n,submit:a,submitOptions:h,destinationOptions:d,watchOptions:function(e,n,i={}){var s;n=t.options(n);let r=new up.OptionsParser(e,n,Object.assign(Object.assign({},i),{closest:!0,attrPrefix:"up-watch-"}));r.boolean("feedback"),r.booleanOrString("disable"),r.string("event"),r.number("delay");let o=up.form.config;return"input"===n.event?(n.event=t.evalOption(o.watchInputEvents,e),null!==(s=n.delay)&&void 0!==s||(n.delay=o.watchInputDelay)):"change"===n.event&&(n.event=t.evalOption(o.watchChangeEvents,e)),n.origin||(n.origin=e),n},isSubmittable:function(t){return t=up.fragment.get(t),n.matches(t,"submitSelectors")},watch:m,validate:function(...e){let n=function(e,...n){const i=t.extractOptions(n);return i.origin?i.target||(i.target=up.fragment.toTarget(e)):i.origin||(i.origin=up.fragment.get(e)),i}(...e);return up.FormValidator.forElement(n.origin).validate(n)},autosubmit:g,fieldSelector:i,fields:r,isField:s,submitButtons:o,focusedField:function(){return t.presence(document.activeElement,s)},switchTarget:O,disableWhile:function(e,n){let i=function({disable:e,origin:n}){if(!e)return t.noop;let i,s=()=>x(n||void up.fail("Cannot process { disable: '%s' } option without { %s }",e,"origin"));return!0===e?i=[s()]:t.isString(e)&&(i=up.fragment.subtree(s(),e,{origin:n})),t.sequence(i.map(l))}(n);t.always(e,i)},disable:l,group:b,groupSolution:y,groupSelectors:v,get:S,getScope:x}}(),up.submit=up.form.submit,up.watch=up.form.watch,up.autosubmit=up.form.autosubmit,up.validate=up.form.validate},2667:(t,e,n)=>{n(7433);const i=up.util,s=up.element;up.fragment=function(){function t(t){let e=s.tagName(t);if(e.startsWith("up-"))return e}const e=new up.Config((()=>({badTargetClasses:[/^up-/],targetDerivers:["[up-id]","[id]","html","head","body","main","[up-main]",t,"link[rel][type]","link[rel=preload][href]","link[rel=preconnect][href]","link[rel=prefetch][href]","link[rel]","meta[property]","*[name]","form[action]","a[href]","[class]","[up-flashes]","form"],verifyDerivedTarget:!0,navigateOptions:{cache:"auto",revalidate:"auto",feedback:!0,fallback:!0,focus:"auto",scroll:"auto",history:"auto",peel:!0},match:"region",runScripts:!0,autoHistoryTargets:[":main"],autoFocus:["hash","autofocus","main-if-main","keep","target-if-lost"],autoScroll:["hash","layer-if-main"],autoRevalidate:t=>t.expired,skipResponse:n})));function n({response:t,expiredResponse:e}){return!t.text||t.text===(null==e?void 0:e.text)}function r(t,e={}){return t=f(t,e),s.closestAttr(t,"up-source")}function o(t){return i.normalizeURL(t,{hash:!1})}function u(t){let e=s.closestAttr(t,"up-time");if(e&&"false"!==e)return/^\d+$/.test(e)&&(e=1e3*Number(e)),new Date(e)}function c(t){let e=s.closestAttr(t,"up-etag");if(e&&"false"!==e)return e}i.delegate(e,["mainTargets"],(()=>up.layer.config.any));const a=up.mockable(((...t)=>{let e=v(t);return new up.RenderJob(e).execute()})),h=up.mockable(((...t)=>{const e=v(t);return a(Object.assign(Object.assign({},e),{navigate:!0}))}));function l(t){return!t.closest(".up-destroying")}function p(t){return t.isConnected&&l(t)}function f(...t){const e=i.extractOptions(t),n=t.pop(),r=t[0];return i.isElementish(n)?s.get(n):r?d(r,n,e):new up.FragmentFinder({selector:n,origin:e.origin,layer:e.layer,match:e.match}).find()}function d(...t){return m(...t)[0]}function m(...t){const e=i.extractOptions(t);let n=t.pop();const s=t[0];return i.isElement(n)?[n]:i.isList(n)?n:new up.Selector(n,s,e).descendants(s)}function g(t,e,n={}){return new up.Selector(e,t,n).subtree(t)}function v(t){const e=i.parseArgIntoOptions(t,"target");return i.isElement(e.target)&&(e.origin||(e.origin=e.target)),e}const b=/^(onFail|on|fail)?(.+)$/;function y(t,e){return i.presence(t,i.isString)||w(t,e)||function(t){throw new up.CannotTarget(function(t){return`Cannot derive good target selector from a <${s.tagName(t)}> element without identifying attributes. Try setting an [id] or configure up.fragment.config.targetDerivers.`}(t))}(t)}function w(t,n){return i.findResult(e.targetDerivers,(function(r){let o=function(t,e){if(i.isFunction(e))return e(t);if(t.matches(e))try{return function(t,e){let{includePath:n,excludeRaw:i}=up.element.parseSelector(e);if(1!==n.length)throw new up.CannotParse(e);let{tagName:r,id:o,classNames:u,attributes:c}=n[0],a="";"*"===r?a+=s.tagName(t):r&&(a+=r);for(let t of u)a+=s.classSelector(t);o&&(a+=s.idSelector(o));for(let e in c){let n=c[e]||t.getAttribute(e);if("id"===e)a+=s.idSelector(n);else if("class"===e)for(let e of _(t))a+=s.classSelector(e);else a+=s.attrSelector(e,n)}return i&&(a+=i),a}(t,e)}catch(t){if(t instanceof up.CannotParse)return e;throw t}}(t,r);if(o&&function(t,n,i={}){return!p(n)||!e.verifyDerivedTarget||up.fragment.get(t,Object.assign({layer:n},i))===n}(o,t,n))return o}))}function _(t){return i.filter(t.classList,(t=>!i.some(e.badTargetClasses,(e=>{return n=e,s=t,i.isRegExp(n)?n.test(s):n===s;var n,s}))))}const O=/:main\b/,k=/:layer\b/,S=/:origin\b/;function x(t){return O.test(t)}function E(t,e={}){const{layer:n}=e;"new"===n||n instanceof up.Layer||up.fail("Must pass an up.Layer as { layer } option, but got %o",n),t=i.copy(i.wrapList(t));const s=[];for(;t.length;){let r=t.shift();if(!0===r&&(r=":main"),x(r)){let n=j(e),i=up.layer.mainTargets(n).map((t=>r.replace(O,t)));t.unshift(...i)}else if(k.test(r)){if("new"===n||n.opening)continue;let i=y(n.getFirstSwappableElement(),e);t.unshift(r.replace(k,i))}else i.isElementish(r)?s.push(y(r,e)):i.isString(r)&&s.push(F(r,e))}return i.uniq(s)}function j({layer:t,mode:e}){return"new"===t?e||up.fail('Must pass a { mode } option together with { layer: "new" }'):t.mode}function C(t,{origin:e}={}){return t.replace(S,(function(n){if(e)return y(e);up.fail('Missing { origin } element to resolve "%s" reference (found in %s)',n,t)}))}function F(...t){return(up.migrate.resolveOrigin||C)(...t)}function T(t){return i.parseTokens(t,{separator:"comma"})}function R(t,e){let n=up.on("up:fragment:aborted",{guard:e=>e.target.contains(t)},e);return up.destructor(t,n),n}return up.on("up:framework:boot",(function(){const{documentElement:t}=document;if(t.setAttribute("up-source",o(location.href)),up.hello(t),!up.browser.canPushState())return up.warn("Cannot push history changes. Next fragment update will load in a new page.")})),{config:e,reload:function(...t){var e,n;const o=v(t);o.target||(o.target=":main");const h=f(o.target,o);return o.url||(o.url=r(h)),o.headers=i.merge(o.headers,function(t){let e={},n=u(t);n&&(e["If-Modified-Since"]=n.toUTCString());let i=c(t);return i&&(e["If-None-Match"]=i),e}(h)),(o.keepData||s.booleanAttr(h,"up-keep-data"))&&(o.data=up.data(h)),null===(n=(e=up.migrate).postprocessReloadOptions)||void 0===n||n.call(e,o),a(o)},destroy:function(...t){var e,n;const i=v(t);return(i.element=f(i.target,i))&&new up.Change.DestroyFragment(i).execute(),null===(n=(e=up.migrate).formerlyAsync)||void 0===n?void 0:n.call(e,"up.destroy()")},render:a,navigate:h,get:f,getDumb:d,all:m,subtree:g,contains:function(t,e){return i.isElement(e)?s.contains(t,e)&&up.layer.get(t).contains(e):g(t,e).length>0},closest:function(t,e,n){return new up.Selector(e,t,n).closest(t)},source:r,normalizeSource:o,visit:function(t,e){return h(Object.assign(Object.assign({},e),{url:t}))},markAsDestroying:function(t){t.classList.add("up-destroying"),t.setAttribute("aria-hidden","true")},emitInserted:function(t){return up.emit(t,"up:fragment:inserted",{log:["Inserted fragment %o",t]})},emitDestroyed:function(t,e){var n;const i=null!==(n=e.log)&&void 0!==n?n:["Destroyed fragment %o",t],s=e.parent||document;return up.emit(s,"up:fragment:destroyed",{fragment:t,parent:s,log:i})},emitKeep:function(t){let{oldElement:e,newElement:n,newData:i,renderOptions:r}=t;const o=["Keeping fragment %o",e],u=s.callbackAttr(e,"up-on-keep",{exposedKeys:["newFragment","newData"]});return up.emit(e,"up:fragment:keep",{newFragment:n,newData:i,renderOptions:r,log:o,callback:u})},successKey:function(t){let e=b.exec(t);if(e){let[t,n,s]=e;switch(n){case"onFail":return"on"+i.upperCaseFirst(s);case"fail":return i.lowerCaseFirst(s)}}},failKey:function(t){let e=b.exec(t);if(e){let[t,n,s]=e;switch(n){case"on":return"onFail"+i.upperCaseFirst(s);case void 0:return"fail"+i.upperCaseFirst(s)}}},expandTargets:E,resolveOrigin:F,toTarget:y,tryToTarget:w,isTargetable:function(t){return!!w(t)},matches:function(t,e,n={}){if(t=s.get(t),i.isElement(e)){let n=w(e);return n&&t.matches(n)}return new up.Selector(e,t,n).matches(t)},hasAutoHistory:function(t,n){let i=E(e.autoHistoryTargets,{layer:n}).join();for(let e of t)if(s.subtree(e,i).length)return!0;return up.puts("up.render()","Will not auto-update history because fragment doesn't contain a selector from up.fragment.config.autoHistoryTargets"),!1},time:u,etag:c,shouldRevalidate:function(t,n,s={}){return t.fromCache&&i.evalAutoOption(s.revalidate,e.autoRevalidate,n)},abort:function(...t){let e,n,s=v(t),{reason:r,newLayer:o}=s;if(s.target)n=m(s.target,s),e=t=>t.isPartOfSubtree(n),r||(r="Aborting requests within fragment");else{let t=up.layer.getAll(s);n=i.map(t,"element"),e=e=>i.contains(t,e.layer),r||(r="Aborting requests within "+t.join(", "))}up.network.abort((t=>t.abortable&&e(t)),Object.assign(Object.assign({},s),{reason:r}));for(let t of n)up.emit(t,"up:fragment:aborted",{reason:r,newLayer:o,log:!1})},onAborted:R,onFirstIntersect:function(t,e,{margin:n=0}={}){if(s.isIntersectingWindow(t,{margin:n}))return void e();let i=new IntersectionObserver((function(t){for(let n of t)if(n.isIntersecting)return r(),void e()}),{rootMargin:`${n}px`}),r=()=>i.disconnect();i.observe(t),R(t,r)},splitTarget:T,parseTargetSteps:function(t,e={}){var n;let i=e.defaultPlacement||"swap",s=null!==(n=e.defaultMaybe)&&void 0!==n&&n,r=[],o=T(t);for(let t of o){if(":none"===t)continue;let n=i,o=s;t=t.replace(/\b::?(before|after)\b/,((t,e)=>(n=e,""))),t=t.replace(/\b:maybe\b/,(()=>(o=!0,"")));const u=Object.assign(Object.assign({},e),{selector:t,placement:n,maybe:o,originalRenderOptions:e});r.push(u)}return r},isAlive:p,isNotDestroying:l,targetForSteps:function(t){let e=t.filter((t=>{var e;return!t.maybe||(null===(e=t.oldElement)||void 0===e?void 0:e.isConnected)}));return i.map(e,"selector").join(", ")||":none"},compressNestedSteps:function(t){if(t.length<2)return t;let e=i.uniqBy(t,"oldElement");return e=i.reject(e,(t=>function(t,e){return i.some(t,(function(t){return t!==e&&("swap"===t.placement||"content"===t.placement)&&t.oldElement.contains(e.oldElement)}))}(e,t))),e},containsMainPseudo:x}}(),up.reload=up.fragment.reload,up.destroy=up.fragment.destroy,up.render=up.fragment.render,up.navigate=up.fragment.navigate,up.visit=up.fragment.visit,i.delegate(up,["context"],(()=>up.layer.current))},9634:()=>{up.framework=function(){let t="evaling";function e(){if("configuring"!==t)return void console.error("Unpoly has already booted");let e=n();e?console.error("Unpoly cannot boot: %s",e):(t="booting",up.emit("up:framework:boot",{log:!1}),t="booted",up.emit("up:framework:booted",{log:!1}))}function n(){for(let t of["URL","Proxy","Promise","DOMParser","FormData"])if(!window[t])return`Browser doesn't support the ${t} API`;if("BackCompat"===document.compatMode)return"Browser is in quirks mode (missing DOCTYPE?)"}return{onEvaled:function(){up.emit("up:framework:evaled",{log:!1}),function(){let t=document.currentScript;return!!(null==t?void 0:t.async)||"manual"===(null==t?void 0:t.getAttribute("up-boot"))||"complete"===document.readyState||void 0}()?console.debug("Call up.boot() after you have configured Unpoly"):document.addEventListener("DOMContentLoaded",e),t="configuring"},boot:e,startExtension:function(){if("configuring"!==t)throw new Error("Unpoly extensions must be loaded before booting");t="evaling"},stopExtension:function(){t="configuring"},reset:function(){up.emit("up:framework:reset",{log:!1})},get evaling(){return"evaling"===t},get booted(){return"booted"===t},get beforeBoot(){return"booting"!==t&&"booted"!==t},isSupported:function(){return!n()}}}(),up.boot=up.framework.boot},8944:()=>{up.history=function(){const t=up.util,e=up.element,n=new up.Config((()=>({enabled:!0,updateMetaTags:!0,restoreTargets:["body"],metaTagSelectors:["meta","link[rel=alternate]","link[rel=canonical]","link[rel=icon]","[up-meta]",'script[type="application/ld+json"]'],noMetaTagSelectors:["meta[http-equiv]","[up-meta=false]","meta[name=csp-nonce]"]})));let i,s;function r(){return t.normalizeURL(location.href)}function o(){const t=r();s!==t&&(i=s,s=t)}function u(e,n){return t.matchURLs(e,location.href,Object.assign({hash:!0},n))}function c(e,n={}){h("replaceState",e=t.normalizeURL(e))&&!1!==n.event&&a({location:e,reason:"replace",log:`Replaced state for ${e}`})}function a(t){var e,n;let i=up.event.build("up:location:changed",t);null===(n=null===(e=up.migrate)||void 0===e?void 0:e.renamedProperty)||void 0===n||n.call(e,i,"url","location"),up.emit(i)}function h(t,e){if(n.enabled){const n={up:{}};return window.history[t](n,"",e),o(),!0}}function l(t){o();let e=r();a({location:e,reason:"pop",log:`Navigated to history entry ${e}`}),up.viewport.saveFocus({location:i}),up.viewport.saveScroll({location:i}),function(t){if(!(null==t?void 0:t.up))return void up.puts("popstate","Ignoring a history state not owned by Unpoly");let e=r();up.error.muteUncriticalRejection(up.render({guardEvent:up.event.build("up:location:restore",{location:e,log:`Restoring location ${e}`}),url:e,target:n.restoreTargets,fail:!1,history:!0,location:e,peel:!0,layer:"root",cache:"auto",revalidate:"auto",saveScroll:!1,scroll:["restore","auto"],saveFocus:!1,focus:["restore","auto"]}))}(t.state)}function p(){window.addEventListener("popstate",l),"GET"===up.protocol.initialRequestMethod()&&c(r(),{event:!1})}function f(t=document.head){return t.querySelectorAll(n.selector("metaTagSelectors"))}return o(),up.on("up:framework:boot",(function(){"jasmine"in window?p():setTimeout(p,100)})),up.macro("[up-back]",(function(t){i&&(e.setMissingAttrs(t,{"up-href":i,"up-scroll":"restore"}),t.removeAttribute("up-back"),up.link.makeFollowable(t))})),up.on("up:framework:reset",(function(){i=void 0,s=void 0,o()})),{config:n,push:function(e){!u(e=t.normalizeURL(e))&&h("pushState",e)&&a({location:e,reason:"push",log:`Advanced to location ${e}`})},replace:c,get location(){return r()},get previousLocation(){return i},isLocation:u,findMetaTags:f,updateMetaTags:function(t){let e=f();for(let t of e)t.remove();for(let e of t)document.head.append(e)},getLang:function(t=document){let{documentElement:e}=t;if(e.matches("html"))return t.documentElement.lang},updateLang:function(t){e.toggleAttr(e.root,"lang",t,!!t)}}}()},9443:function(t,e,n){var i=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};n(7921);const s=up.util,r=up.element;up.layer=function(){const t=[up.Layer.Root,up.Layer.Modal,up.Layer.Popup,up.Layer.Drawer,up.Layer.Cover],e=new up.Config((function(){const e={mode:"modal",any:{mainTargets:["[up-main='']","main",":layer"]},root:{mainTargets:["[up-main~=root]"],history:!0},overlay:{mainTargets:["[up-main~=overlay]"],openAnimation:"fade-in",closeAnimation:"fade-out",dismissLabel:"×",dismissAriaLabel:"Dismiss dialog",dismissable:!0,history:"auto"},cover:{mainTargets:["[up-main~=cover]"]},drawer:{mainTargets:["[up-main~=drawer]"],backdrop:!0,position:"left",size:"medium",openAnimation(t){switch(t.position){case"left":return"move-from-left";case"right":return"move-from-right"}},closeAnimation(t){switch(t.position){case"left":return"move-to-left";case"right":return"move-to-right"}}},modal:{mainTargets:["[up-main~=modal]"],backdrop:!0,size:"medium"},popup:{mainTargets:["[up-main~=popup]"],position:"bottom",size:"medium",align:"left",dismissable:"outside key"},foreignOverlaySelectors:["dialog"]};for(let n of t)e[n.mode].Class=n;return e}));let n=null,o=[];function u(t){return"root"===t?[e.root,e.any]:[e[t],e.overlay,e.any]}function c(t){return i(this,void 0,void 0,(function*(){return t=s.options(t,{layer:"new",defaultToEmptyContent:!0,navigate:!0}),(yield up.render(t)).layer}))}up.on("up:fragment:destroyed",(function(){n.sync()})),up.on("up:framework:evaled",(function(){n=new up.LayerStack})),up.on("up:framework:reset",(function(){n.reset(),o=s.filter(o,"isDefault")}));const a={config:e,mainTargets:function(t){return s.flatMap(u(t),"mainTargets")},open:c,build:function(t,i){var r;const{mode:o}=t,{Class:c}=e[o],a=s.reverse(u(o));let h=up.migrate.handleLayerConfig;return h&&a.forEach(h),null!==(r=t.openAnimation)&&void 0!==r||(t.openAnimation=s.pluckKey(t,"animation")),t=s.mergeDefined(...a,{mode:o,stack:n},t),i&&(t=i(t)),new c(t)},ask:function(t){return new Promise((function(e,n){c(t=Object.assign(Object.assign({},t),{onAccepted:t=>e(t.value),onDismissed:t=>n(t.value)}))}))},normalizeOptions:function(t){var i;!function(t){var i,r;if(!(t.layer instanceof up.Layer))if(null===(r=(i=up.migrate).handleLayerOptions)||void 0===r||r.call(i,t),s.isGiven(t.layer)){let n=String(t.layer).match(/^(new|shatter|swap)( (\w+))?/);if(n){t.layer="new";const i=n[1],s=n[3];t.mode||(t.mode=s||e.mode),"swap"===i?up.layer.isOverlay()&&(t.baseLayer="parent"):"shatter"===i&&(t.baseLayer="root")}}else t.mode?t.layer="new":s.isElementish(t.target)?t.layer=n.get(t.target,{normalizeLayerOptions:!1}):t.origin?t.layer="origin":t.layer="current"}(t),null!==(i=t.context)&&void 0!==i||(t.context={}),function(t){t.baseLayer instanceof up.Layer||(t.baseLayer=n.get("current",Object.assign(Object.assign({},t),{normalizeLayerOptions:!1})))}(t)},openCallbackAttr:function(t,e){return r.callbackAttr(t,e,{exposedKeys:["layer"]})},closeCallbackAttr:function(t,e){return r.callbackAttr(t,e,{exposedKeys:["layer","value","response"]})},anySelector:function(){return s.map(t,(t=>t.selector())).join()},optionToString:function(t){return s.isString(t)?`layer "${t}"`:t.toString()},get stack(){return n.layers},isWithinForeignOverlay:function(t){let n=e.selector("foreignOverlaySelectors");return!(!n||!t.closest(n))}};return s.delegate(a,["get","getAll","root","overlays","current","front","sync","count","dismissOverlays"],(()=>n)),s.delegate(a,["accept","dismiss","isRoot","isOverlay","isFront","on","off","emit","parent","history","location","mode","context","element","contains","size","affix"],(()=>n.current)),a}()},3849:(t,e,n)=>{n(7298),up.link=function(){const t=up.util,e=up.element;let n=null;const i="[up-content], [up-fragment], [up-document]",s=`${i}, [up-target], [up-layer], [up-transition], [up-preload]`,r=new up.Config((()=>({followSelectors:["[up-follow]",`a:is(${s})`],noFollowSelectors:["[up-follow=false]","a[download]","a[target]",'a[href^="javascript:"]','a[href^="mailto:"]',`a[href^="#"]:not(${i})`,e.crossOriginSelector("href"),e.crossOriginSelector("up-href")],instantSelectors:["[up-instant]"],noInstantSelectors:["[up-instant=false]","[onclick]"],preloadSelectors:["[up-preload]"],noPreloadSelectors:["[up-preload=false]"],clickableSelectors:["[up-clickable]","[up-follow]","[up-emit]","[up-accept]","[up-dismiss]",s],noClickableSelectors:["[up-clickable=false]","a[href], button"],preloadDelay:90}))),o=up.mockable((function(t,e,n){return up.render(c(t,e,n))}));function u(e,n,i){n=t.options(n);const s=new up.OptionsParser(e,n,Object.assign(Object.assign({},i),{fail:!1}));return n.url=function(t,e={}){const n=e.url||t.getAttribute("up-href")||t.getAttribute("href");if("#"!==n)return n}(e,n),n.method=h(e,n),s.json("headers"),s.json("params"),s.booleanOrString("cache"),s.booleanOrString("expireCache"),s.booleanOrString("evictCache"),s.booleanOrString("revalidate"),s.booleanOrString("abort"),s.boolean("abortable"),s.boolean("background"),s.string("contentType"),s.number("badResponseTime"),s.number("timeout"),n}function c(e,n,i){var s;e=up.fragment.get(e),n=t.options(n);const r=new up.OptionsParser(e,n,Object.assign({fail:!0},i));return r.include(u),r.boolean("feedback"),n.origin||(n.origin=e),r.boolean("fail"),r.boolean("navigate",{default:!0}),r.string("confirm",{attr:["up-confirm","data-confirm"]}),r.string("target"),r.booleanOrString("fallback"),r.string("match"),r.string("content"),r.string("fragment"),r.string("document"),r.boolean("useKeep"),r.boolean("useHungry"),r.callback("onLoaded"),r.callback("onRendered",{mainKey:"result"}),r.callback("onFinished",{mainKey:"result"}),r.callback("onOffline",{mainKey:"error"}),r.callback("onError",{mainKey:"error"}),r.boolean("peel"),r.string("layer"),r.string("baseLayer"),r.json("context"),r.string("mode"),r.string("align"),r.string("position"),r.string("class"),r.string("size"),r.booleanOrString("dismissable"),r.parse(up.layer.openCallbackAttr,"onOpened"),r.parse(up.layer.closeCallbackAttr,"onAccepted"),r.parse(up.layer.closeCallbackAttr,"onDismissed"),r.string("acceptEvent"),r.string("dismissEvent"),r.string("acceptLocation"),r.string("dismissLocation"),r.booleanOrString("history"),r.booleanOrString("focus"),r.boolean("saveScroll"),r.boolean("saveFocus"),r.booleanOrString("scroll"),r.boolean("revealTop"),r.number("revealMax"),r.number("revealPadding"),r.number("revealSnap"),r.string("scrollBehavior"),r.booleanOrString("history"),r.booleanOrString("location"),r.booleanOrString("title"),r.boolean("metaTags"),r.booleanOrString("lang"),r.include(up.motion.motionOptions),null!==(s=n.guardEvent)&&void 0!==s||(n.guardEvent=up.event.build("up:link:follow",{log:["Following link %o",e]})),n}function a(t,e){let n=function(t){if(!g(t))return"Will not preload an unsafe link"}(t=up.fragment.get(t));if(n)return Promise.reject(new up.Error(n));const i=up.event.build("up:link:preload",{log:["Preloading link %o",t]});return o(t,Object.assign(Object.assign({abortable:!1},e),{guardEvent:i,preload:!0}))}function h(e,n={}){return t.normalizeMethod(n.method||e.getAttribute("up-method")||e.getAttribute("data-method"))}function l(t){return t=up.fragment.get(t),r.matches(t,"followSelectors")}function p(t){l(t)||t.setAttribute("up-follow","")}function f(t,e){if(t.defaultPrevented)return!1;const n=`a, [up-follow], ${up.form.fieldSelector()}`,i=t.target.closest(n);return!i||i===e}function d(t){const e=t.closest(r.selector("instantSelectors"));return e&&(n=e,!(r.matches(n,"noInstantSelectors")||r.matches(n,"noFollowSelectors")));var n}function m(t){let e=["clientX","clientY","button",...up.event.keyModifiers];const n=up.event.fork(t,"up:click",e);up.emit(t.target,n,{log:!1})}function g(t){const e=h(t);return up.network.isSafeMethod(e)}function v(t,n,i){switch(t){case"insert":i();break;case"reveal":{let t=e.numberAttr(n,"up-intersect-margin");up.fragment.onFirstIntersect(n,i,{margin:t});break}case"hover":new up.LinkFollowIntent(n,i)}}function b(t,e){let n=up.event.build("up:deferred:load",{log:["Loading deferred %o",t]}),i=Object.assign({navigate:!1,guardEvent:n},e);return o(t,i,{defaults:{target:":origin",cache:"auto",revalidate:"auto",feedback:!0}})}return up.macro(r.selectorFn("clickableSelectors"),(function(t){let n=t.matches("a, [up-follow]")?"link":"button";e.setMissingAttrs(t,{tabindex:"0",role:n,"up-clickable":""}),t.addEventListener("keydown",(function(e){if("Enter"===e.key||"button"===t.role&&"Space"===e.key)return m(e)}))})),up.attribute("up-defer",{defaultValue:"insert"},(function(t,e){v(e,t,(()=>up.error.muteUncriticalRejection(b(t))))})),up.on("up:click",r.selectorFn("followSelectors"),(function(t,e){f(t,e)&&(up.event.halt(t,{log:!0}),up.focus(e,{preventScroll:!0}),up.error.muteUncriticalRejection(o(e)))})),up.attribute("up-expand",{defaultValue:"a, [up-href]",macro:!0},(function(t,n){let i=e.get(t,n);i&&(e.setMissingAttrs(t,Object.assign({"up-href":e.attr(i,"href")},e.upAttrs(i))),t.classList.add(...e.upClasses(i)),p(t))})),up.compiler(r.selectorFn("preloadSelectors"),(function(t){var n;if(!function(t){return!up.browser.canPushState()||!l(t)||!function(t){const e=u(t);if(e.url)return null==e.cache&&(e.cache="auto"),e.basic=!0,new up.Request(e).willCache()}(t)}(t)){let i=()=>up.error.muteUncriticalRejection(a(t));v(null!==(n=e.booleanOrStringAttr(t,"up-preload",null))&&void 0!==n?n:"hover",t,i)}})),up.on("up:framework:reset",(function(){n=null})),{follow:o,followOptions:c,requestOptions:u,preload:a,makeFollowable:p,isSafe:g,isFollowable:l,shouldFollowEvent:f,convertClicks:function(t){t.on("click",(function(e,i){if(up.event.isUnmodified(e))return d(i)&&n?up.event.halt(e):("key"===up.event.inputDevice||up.event.isSyntheticClick(e)||t.wasHitByMouseEvent(e)&&(!n||n===e.target))&&m(e),n=null})),t.on("mousedown",(function(t,e){up.event.isUnmodified(t)&&(n=t.target,d(e)&&m(t))}))},config:r,loadDeferred:b}}(),up.follow=up.link.follow,up.deferred={load:up.link.loadDeferred}},4453:()=>{up.log=function(){const t=up.util,e=new up.LogConfig;function n(t,e,n,...s){i(t,e,"",n,...s)}function i(n,i,s,r,...o){r&&(e.format?console[n](`%c${i}%c ${r}`,"color: #666666; padding: 1px 3px; border: 1px solid #bbbbbb; border-radius: 2px; font-size: 90%; display: inline-block;"+s,"",...o):console[n](`[${i}] ${t.sprintf(r,...o)}`))}return up.on("up:framework:boot",(function(){if(!e.banner)return;const t=` __ _____  ___  ___  / /_ __\n/ // / _ \\/ _ \\/ _ \\/ / // /  ${up.version}\n\\___/_//_/ .__/\\___/_/\\_. / \n        / /            / /\n\n`;let n="";up.migrate.loaded||(n+="Load unpoly-migrate.js to polyfill deprecated APIs.\n\n"),e.enabled?n+="Call `up.log.disable()` to disable logging for this session.":n+="Call `up.log.enable()` to enable logging for this session.";const i="color: #777777";e.format?console.log("%c"+t+"%c"+n,"font-family: monospace;"+i,i):console.log(t+n)})),{puts:function(...t){e.enabled&&n("log",...t)},putsEvent:function(t){if(e.enabled){let e="#5566cc";i("log",(t=t.originalEvent||t).type,`color: white; border-color: ${e}; background-color: ${e}`,"Interaction on %o",t.target)}},error:(...t)=>n("error",...t),warn:(...t)=>n("warn",...t),config:e,enable:function(){e.enabled=!0},disable:function(){e.enabled=!1}}}(),up.puts=up.log.puts,up.warn=up.log.warn},6535:()=>{up.migrate={config:{}}},8374:()=>{up.mockable=function(t){if(window.jasmine){let e=t.name,n={[e]:t},i=function(){return n[e].apply(this,arguments)};return i.mock=()=>spyOn(n,e),i}return t}},4034:function(){var t=this&&this.M||function(t,e,n,i){return new(n||(n=Promise))((function(s,r){function o(t){try{c(i.next(t))}catch(t){r(t)}}function u(t){try{c(i.throw(t))}catch(t){r(t)}}function c(t){var e;t.done?s(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(o,u)}c((i=i.apply(t,e||[])).next())}))};up.motion=function(){const e=up.util,n=up.element;let i={},s={};const r=new up.MotionController("motion"),o=new up.Config((()=>({duration:175,easing:"ease",enabled:!matchMedia("(prefers-reduced-motion: reduce)").matches})));function u(t){return e.pickBy(t,"isDefault")}function c(){return o.enabled}function a(t,e,i){return l(i),c()&&!b(e)&&i.duration>0&&!n.isSingleton(t)}function h(t,e,n){return up.migrate.loaded&&(e=up.migrate.fixStyleProps(e)),n=Object.assign(Object.assign({},n),{finishEvent:r.finishEvent}),new up.CSSTransition(t,e,n).start()}function l(t){var e,n;null!==(e=t.easing)&&void 0!==e||(t.easing=o.easing),null!==(n=t.duration)&&void 0!==n||(t.duration=o.duration)}function p(t){if(!b(t)){if(e.isFunction(t))return t;if(e.isArray(t))return f(...t);if(e.isString(t)){let e;if(t.indexOf("/")>=0)return f(...t.split("/"));if(e=s[t])return p(e)}else up.fail("Unknown transition %o",t)}}function f(t,n){if(!b(t)&&!b(n)){const i=d(t)||e.asyncNoop,s=d(n)||e.asyncNoop;return(t,e,n)=>Promise.all([i(t,n),s(e,n)])}}function d(t){var n;if(!b(t))return e.isFunction(t)?t:e.isString(t)?i[n=t]||up.fail("Unknown animation %o",n):e.isOptions(t)?(e,n)=>h(e,t,n):void up.fail("Unknown animation %o",t)}const m=up.mockable((function(t,e){t.replaceWith(e)}));function g(t,e){const n=p(e);n.isDefault=up.framework.evaling,s[t]=n}function v(t,e){const n=d(e);n.isDefault=up.framework.evaling,i[t]=n}function b(t){return!t||"none"===t}function y(t,e,i){v(t,(function(t,s){return t.style.opacity=0,n.setStyle(t,{opacity:e}),h(t,{opacity:i},s)}))}function w(t,e){return{transform:`translate(${t}px, ${e}px)`}}function _(t){return n.setStyle(t,{transform:""}),t.getBoundingClientRect()}function O(t,e){const i=`move-from-${t}`;v(`move-to-${t}`,(function(t,n){const i=_(t);return h(t,e(i),n)})),v(i,(function(t,i){const s=_(t),r=e(s);return n.setStyle(t,r),h(t,{transform:""},i)}))}return up.on("up:framework:boot",(function(){c()||up.puts("up.motion","Animations are disabled")})),y("fade-in",0,1),y("fade-out",1,0),O("top",(function(t){return w(0,-(t.top+t.height))})),O("bottom",(function(t){return w(0,up.viewport.rootHeight()-t.top)})),O("left",(function(t){return w(-(t.left+t.width),0)})),O("right",(function(t){return w(up.viewport.rootWidth()-t.left,0)})),g("cross-fade",["fade-out","fade-in"]),g("move-left",["move-to-left","move-from-right"]),g("move-right",["move-to-right","move-from-left"]),g("move-up",["move-to-top","move-from-bottom"]),g("move-down",["move-to-bottom","move-from-top"]),up.on("up:framework:reset",(function(){r.reset(),i=u(i),s=u(s)})),{morph:function(i,s,o,u){l(u=e.options(u)),i=up.fragment.get(i),s=up.fragment.get(s);let c=p(o);const h=a(i,c,u);c=up.error.guardFn(c);const f=e.pluckKey(u,"beforeStart")||e.noop,d=e.pluckKey(u,"afterInsert")||e.noop,g=e.pluckKey(u,"beforeDetach")||e.noop,v=e.pluckKey(u,"afterDetach")||e.noop,b=e.pluckKey(u,"scrollNew")||e.noop;if(f(),h){if(r.isActive(i)&&!1===u.trackMotion)return c(i,s,u);up.puts("up.morph()","Morphing %o to %o with transition %O over %d ms",i,s,o,u.duration);const e=up.viewport.get(i),a=e.scrollTop,h=up.viewport.absolutize(i,{afterMeasure(){n.insertBefore(i,s),d()}}),l=function(){return t(this,void 0,void 0,(function*(){b();const t=e.scrollTop;h.moveBounds(0,t-a),yield c(i,s,u),g(),h.bounds.remove(),v()}))};return r.startFunction([i,s],l,u)}return g(),m(i,s),d(),v(),b(),Promise.resolve()},animate:function(t,i,s){t=up.fragment.get(t),s=e.options(s);let o=d(i);const u=a(t,i,s);if(o=up.error.guardFn(o),u){const e=()=>o(t,s);return r.startFunction(t,e,s)}return function(t,i){return e.isOptions(i)&&n.setStyle(t,i),Promise.resolve()}(t,i)},finish:function(t){return r.finish(t)},finishCount:()=>r.finishCount,transition:g,animation:v,config:o,isEnabled:c,isNone:b,willAnimate:a,swapElementsDirectly:m,motionOptions:function(t,n,i){n=e.options(n);let s=new up.OptionsParser(t,n,i);return s.booleanOrString("animation"),s.booleanOrString("transition"),s.string("easing"),s.number("duration"),n}}}(),up.transition=up.motion.transition,up.animation=up.motion.animation,up.morph=up.motion.morph,up.animate=up.motion.animate},1647:(t,e,n)=>{n(2903);const i=up.util;up.network=function(){const t=new up.Config((()=>({concurrency:6,wrapMethod:!0,cacheSize:70,cacheExpireAge:15e3,cacheEvictAge:54e5,badResponseTime:400,fail:t=>(t.status<200||t.status>299)&&304!==t.status,autoCache:t=>t.isSafe(),expireCache:(t,e)=>!t.isSafe(),evictCache:!1,progressBar:!0,timeout:9e4}))),e=new up.Request.Queue,n=new up.Request.Cache;let s=null;function r(s){(function(t){let i;if(t.willCache()&&(i=n.get(t)))return up.puts("up.request()","Re-using previous request to %s",t.description),t.background||e.promoteToForeground(i),i.mergeIfUnsent(t),n.track(i,t,{onIncompatible:r}),!0})(s)||function(s){(function(e){e.willCache()&&(n.put(e),e.onLoading=()=>n.reindex(e)),i.always(e,(function(s){var r,o,u,c;let a=null!==(o=null!==(r=s.expireCache)&&void 0!==r?r:e.expireCache)&&void 0!==o?o:i.evalOption(t.expireCache,e,s);a&&n.expire(a,{except:e});let h=null!==(c=null!==(u=s.evictCache)&&void 0!==u?u:e.evictCache)&&void 0!==c?c:i.evalOption(t.evictCache,e,s);h&&n.evict(h,{except:e});let l=n.get(e),p=s instanceof up.Response,f=!p,d=p&&s.ok,m=p&&!s.ok,g=p&&s.none;m?n.evict(e.url):f||g?n.evict(e):d&&l&&n.put(e)}))})(s),e.asap(s)}(s)}function o(...t){var n,i;null===(i=(n=up.migrate).preprocessAbortArgs)||void 0===i||i.call(n,t),e.abort(...t)}return up.on("up:network:late",(function(){i.evalOption(t.progressBar)&&(s=new up.ProgressBar)})),up.on("up:network:recover",(function(){null==s||s.conclude()})),up.on("up:framework:reset",(function(){o(),e.reset(),n.reset(),null==s||s.destroy(),s=null})),{request:function(...t){const e=function(t){var e,n;const s=i.extractOptions(t);return s.url||(s.url=t[0]),null===(n=(e=up.migrate).handleRequestOptions)||void 0===n||n.call(e,s),s}(t),n=new up.Request(e);return r(n),n},cache:n,isBusy:function(){return e.isBusy()},isSafeMethod:function(t){return i.contains(["GET","OPTIONS","HEAD"],i.normalizeMethod(t))},config:t,abort:o,registerAliasForRedirect:function(t,e){if(t.cache&&e.url&&t.url!==e.url){const s=i.variant(t,{method:e.method,url:e.url,cacheRoute:null});n.alias(t,s)}},queue:e,loadPage:function(t){new up.Request(t).loadPage()}}}(),up.request=up.network.request,up.cache=up.network.cache},3535:()=>{up.protocol=function(){const t=up.util,e=up.element,n=function(t){return"X-Up"+t.replace(/(^.|[A-Z])/g,(t=>"-"+t.toUpperCase()))},i=function(e,i,s=t.identity){let r=e.getResponseHeader(n(i));if(r)return s(r)};function s(t){return"false"!==t&&t}const r=t.memoize((function(){return t.normalizeMethod(up.browser.popCookie("_up_method"))})),o=new up.Config((()=>({methodParam:"_method",csrfParam:()=>e.metaContent("csrf-param"),csrfToken:()=>e.metaContent("csrf-token"),cspNonce:()=>e.metaContent("csp-nonce"),csrfHeader:"X-CSRF-Token",maxHeaderSize:2048})));return{config:o,locationFromXHR:function(t){return i(t,"location")||t.responseURL},titleFromXHR:function(t){var e,n,s;return null!==(s=null===(n=(e=up.migrate).titleFromXHR)||void 0===n?void 0:n.call(e,t))&&void 0!==s?s:i(t,"title",JSON.parse)},targetFromXHR:function(t){return i(t,"target")},methodFromXHR:function(e){return i(e,"method",t.normalizeMethod)},acceptLayerFromXHR:function(t){return i(t,"acceptLayer",JSON.parse)},contextFromXHR:function(t){return i(t,"context",JSON.parse)},dismissLayerFromXHR:function(t){return i(t,"dismissLayer",JSON.parse)},eventPlansFromXHR:function(t){return i(t,"events",JSON.parse)},expireCacheFromXHR:function(t){var e,n;return i(t,"expireCache")||(null===(n=(e=up.migrate).clearCacheFromXHR)||void 0===n?void 0:n.call(e,t))},evictCacheFromXHR:function(t){return i(t,"evictCache",s)},csrfHeader:function(){return t.evalOption(o.csrfHeader)},csrfParam:function(){return t.evalOption(o.csrfParam)},csrfToken:function(){return t.evalOption(o.csrfToken)},cspNonce:function(){return t.evalOption(o.cspNonce)},initialRequestMethod:r,headerize:n,wrapMethod:function(t,e){return e.add(o.methodParam,t),"POST"},cspNoncesFromHeader:function(t){let e=[];if(t){let n=t.split(/\s*;\s*/);for(let t of n)if(0===t.indexOf("script-src")){let n,i=/'nonce-([^']+)'/g;for(;n=i.exec(t);)e.push(n[1])}}return e}}}()},9615:()=>{up.radio=function(){const t=up.element,e=new up.Config((()=>({hungrySelectors:["[up-hungry]"],noHungrySelectors:["[up-hungry=false]"],pollInterval:3e4})));return up.attribute("up-poll",(function(t){up.FragmentPolling.forFragment(t).onPollAttributeObserved()})),up.macro("[up-flashes]",(function(e){t.setMissingAttrs(e,{"up-hungry":"","up-if-layer":"subtree","up-keep":"",role:"alert"}),e.addEventListener("up:fragment:keep",(function(e){t.isEmpty(e.newFragment)||e.preventDefault()}))})),{config:e,hungrySteps:function(n){let{useHungry:i,origin:s,layer:r}=n,o={current:[],other:[]};if(!i)return o;let u=e.selector("hungrySelectors");const c=[r,...r.ancestors,...r.descendants];for(let e of c){let i=up.fragment.all(e.element,u,{layer:e});for(let u of i){let i=up.fragment.tryToTarget(u,{origin:s});if(!i){up.warn("[up-hungry]","Ignoring untargetable fragment %o",u);continue}let c=t.attr(u,"up-if-layer"),a=c?up.layer.getAll(c,{baseLayer:e}):[e],h=up.motion.motionOptions(u),l=up.event.build("up:fragment:hungry",{log:!1}),p=t.callbackAttr(u,"up-on-hungry",{exposedKeys:["newFragment","renderOptions"]}),f=Object.assign(Object.assign({selector:i,oldElement:u,layer:e,origin:s},h),{placement:"swap",useKeep:!0,maybe:!0,selectEvent:l,selectCallback:p,originalRenderOptions:n});a.includes(r)&&(r===e?o.current:o.other).push(f)}}return o.other=up.fragment.compressNestedSteps(o.other),o},startPolling:function(t,e={}){up.FragmentPolling.forFragment(t).forceStart(e)},stopPolling:function(t){up.FragmentPolling.forFragment(t).forceStop()},pollOptions:function(t,n={}){const i=new up.OptionsParser(t,n,{defaults:{background:!0}});return i.number("interval",{default:e.pollInterval}),i.string("ifLayer",{default:"front"}),i.include(up.link.requestOptions),n}}}()},6774:()=>{!function(){const t=up.element;for(let e of["method","confirm"]){const n=`up-${e}`,i=`data-${e}`;up.macro(`a[${i}]`,(function(e){var s;(window.Rails||(null===(s=window.jQuery)||void 0===s?void 0:s.rails))&&up.link.isFollowable(e)&&(t.setMissingAttr(e,n,e.getAttribute(i)),e.removeAttribute(i))}))}}()},1897:()=>{up.script=function(){const t=up.util,e=up.element,n=new up.Config((()=>({assetSelectors:["link[rel=stylesheet]","script[src]","[up-asset]"],noAssetSelectors:["[up-asset=false]"],nonceableAttributes:["up-watch","up-on-accepted","up-on-dismissed","up-on-loaded","up-on-rendered","up-on-finished","up-on-error","up-on-offline"],scriptSelectors:["script"],noScriptSelectors:['script[type="application/ld+json"]']}))),i={"[up-back]":-100,"[up-clickable]":-200,"[up-drawer]":-200,"[up-modal]":-200,"[up-cover]":-200,"[up-popup]":-200,"[up-tooltip]":-200,"[up-dash]":-200,"[up-flashes]":-200,"[up-expand]":-300,"[data-method]":-400,"[data-confirm]":-400};let s=[],r=[];function o(e,n={}){let o=function(e,n){let[i,s,r]=u(e);return s=t.options(s,{selector:i,isDefault:up.framework.evaling,priority:0,batch:!1}),Object.assign(r,s,n)}(e,n);o.macro?(up.framework.evaling&&(o.priority||(o.priority=function(e){e=t.evalOption(e);for(let t in i)if(e.indexOf(t)>=0)return i[t];up.fail("Unregistered priority for system macro %o",e)}(o.selector))),c(r,o)):c(s,o)}const u=function(e){const n=t.extractOptions(e),i=e.shift(),s=e.pop();return[i,Object.assign(Object.assign({},n),t.extractOptions(e)),s]};function c(t,e){let n,i=0;for(;(n=t[i])&&n.priority>=e.priority;)i+=1;if(t.splice(i,0,e),up.framework.booted)if(0===e.priority)for(let t of up.layer.stack)a(t.element,{layer:t,compilers:[e]});else up.puts("up.compiler()","Compiler %s was registered after booting Unpoly. Compiler will run for future fragments only.",e.selector);return e}function a(t,e){up.emit(t,"up:fragment:compile",{log:!1});let n=e.compilers||r.concat(s);new up.CompilerPass(t,n,e).run()}function h(t=document.head){return t.querySelectorAll(n.selector("assetSelectors"))}function l(t){t.type="up-disabled-script"}return up.on("up:framework:reset",(function(){s=t.filter(s,"isDefault"),r=t.filter(r,"isDefault")})),{config:n,compiler:function(...t){o(t)},macro:function(...t){o(t,{macro:!0})},attrCompiler:function(...t){let[n,i,s]=u(t);o([`[${n}]`,i,t=>{let r=e.booleanOrStringAttr(t,n,i.defaultValue);if(r)return s(t,r)}])},destructor:function(e,n){let i=e.upDestructors;i||(i=[],e.upDestructors=i,e.classList.add("up-can-clean")),t.isArray(n)?i.push(...n):i.push(n)},hello:function(t,e={}){return t=up.fragment.get(t,e),up.puts("up.hello()","Compiling fragment %o",t),a(t,e),up.fragment.emitInserted(t),t},clean:function(t,e={}){new up.DestructorPass(t,e).run()},data:function(e){return(e=up.fragment.get(e)).upData||(e.upData=function(e){if(!e.getAttribute)return{};let n,i=e.getAttribute("up-data");return i&&(n=JSON.parse(i),!t.isOptions(n))?n:Object.assign(Object.assign(Object.assign({},e.dataset),n),e.upCompileData)}(e))},findAssets:h,assertAssetsOK:function(e,n){let i=h();t.map(i,"outerHTML").join()!==t.map(e,"outerHTML").join()&&up.event.assertEmitted("up:assets:changed",{oldAssets:i,newAssets:e,renderOptions:n})},disableSubtree:function(i){let s=n.selector("scriptSelectors");t.each(e.subtree(i,s),l)}}}(),up.compiler=up.script.compiler,up.destructor=up.script.destructor,up.macro=up.script.macro,up.data=up.script.data,up.hello=up.script.hello,up.attribute=up.script.attrCompiler},7924:()=>{up.util=function(){function t(){}function e(t,e){e=R(e,{host:"cross-domain"});const n=o(t);let i="";"cross-domain"===e.host&&(e.host=r(n)),e.host&&(i+=n.protocol+"//"+n.host);let{pathname:s}=n;return!1===e.trailingSlash&&"/"!==s&&(s=s.replace(/\/$/,"")),i+=s,!1!==e.search&&(i+=n.search),!1!==e.hash&&(i+=n.hash),i}function n(t,n){if(t)return e(t,Object.assign({hash:!1,trailingSlash:!1},n))}const i=location.protocol,s=location.hostname;function r(t){if(b(t)&&-1===t.indexOf("//"))return!1;const e=o(t);return s!==e.hostname||i!==e.protocol}function o(t){if(t.pathname)return t;let e=document.createElement("a");return e.href=t,e}function u(t){return b(t)?e=>e[t]:t}function c(t,e){if(0===t.length)return[];e=u(e);let n=[],i=0;for(let s of t)n.push(e(s,i++));return n}function a(t,e){let n=0;for(let i of t)e(i,n++)}function h(t){return null===t}function l(t){return void 0===t}const p=Z(l);function f(t){return l(t)||h(t)}const d=Z(f);function m(t){return!!f(t)||(_(t)&&t[m.key]?t[m.key]():b(t)||E(t)?0===t.length:!!w(t)&&0===Object.keys(t).length)}m.key="up.util.isBlank";const g=Z(m);function v(t){return"function"==typeof t}function b(t){return"string"==typeof t||t instanceof String}function y(t){return"number"==typeof t||t instanceof Number}function w(t){return"object"==typeof t&&!h(t)&&(l(t.constructor)||t.constructor===Object)}function _(t){const e=typeof t;return"object"===e&&!h(t)||"function"===e}function O(t){return t instanceof Element}function k(t){return t instanceof RegExp}function S(t){return up.browser.canJQuery()&&t instanceof jQuery}const{isArray:x}=Array;function E(t){return x(t)||function(t){return t instanceof NodeList}(t)||function(t){return"[object Arguments]"===Object.prototype.toString.call(t)}(t)||S(t)||function(t){return t instanceof HTMLCollection}(t)}function j(t){return E(t)?t:f(t)?[]:[t]}function C(t){return _(t)&&t[C.key]?t=t[C.key]():E(t)?t=F(t):w(t)&&(t=Object.assign({},t)),t}function F(t){return Array.prototype.slice.call(t)}function T(...t){return Object.assign({},...t)}function R(t,e){return e?T(e,t):t?C(t):{}}function P(t,e){e=u(e);let n=0;for(let i of t){const t=e(i,n++);if(t)return t}}function A(t,e){e=u(e);let n=!0,i=0;for(let s of t)if(!e(s,i++)){n=!1;break}return n}function L(t){return $(t,d)}function $(t,e){e=u(e);const n=[];return a(t,(function(t,i){if(e(t,i))return n.push(t)})),n}function D(t){return t[t.length-1]}function M(t,e){return(t.indexOf||Array.prototype.indexOf).call(t,e)>=0}function H(t,e){const n={};for(let i of e)i in t&&(n[i]=t[i]);return n}function N(t,e){e=u(e);const n={};for(let i in t)e(t[i],i,t)&&(n[i]=t[i]);return n}function q(t,...e){return v(t)?t(...e):t}C.key="up.util.copy",Date.prototype[C.key]=function(){return new Date(+this)};const B={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"};function U(t,e){const n=t[e];return delete t[e],n}function z(t,e){if(e(D(t)))return t.pop()}function I(t){return z(t,w)||{}}function K(t){return t}function V(t){const e=[];for(let n of t)E(n)?e.push(...n):e.push(n);return e}function X(t,e){if((null==t?void 0:t.valueOf)&&(t=t.valueOf()),(null==e?void 0:e.valueOf)&&(e=e.valueOf()),typeof t!=typeof e)return!1;if(E(t)&&E(e))return W(t,e);if(_(t)&&t[X.key])return t[X.key](e);if(w(t)&&w(e)){const n=Object.keys(t);return!!W(n,Object.keys(e))&&A(n,(n=>X(t[n],e[n])))}return t===e}function W(t,e){return t.length===e.length&&A(t,((t,n)=>X(t,e[n])))}X.key="up.util.isEqual";const J={"space/or":/\s+(?:or\s+)?/,or:/\s+or\s+/,comma:/\s*,\s*/};let G=0;function Q(t,e="%o"){let n;if("%c"===e)return"";if("%s"===e&&d(t)&&(t=t.toString()),b(t))n=t.trim().replace(/[\n\r\t ]+/g," "),"%o"===e&&(n=JSON.stringify(n));else if(l(t))n="undefined";else if(y(t)||v(t))n=t.toString();else if(x(t))n=`[${c(t,Q).join(", ")}]`;else if(S(t))n=`$(${c(t,Q).join(", ")})`;else if(O(t)){n=`<${t.tagName.toLowerCase()}`;for(let e of["id","up-id","name","class"]){let i=t.getAttribute(e);i&&(n+=` ${e}="${i}"`)}n+=">"}else if(k(t)||t instanceof Error)n=t.toString();else try{n=JSON.stringify(t)}catch(t){if("TypeError"!==t.name)throw t;n="(circular structure)"}return n.length>200&&(n=`${n.substr(0,200)}…${D(n)}`),n}const Y=/%[oOdisfc]/g;function Z(t){return function(...e){return!t(...e)}}function tt(t){if(t.error)throw t.error;return t.value}function et(t,e,n){try{return{value:t.apply(e,n)}}catch(t){return{error:t}}}return{parseURL:o,normalizeURL:e,matchableURL:n,matchableURLPatternAtom:function(t){return t.endsWith("/")?[t,t.slice(0,-1)]:t.includes("/?")?[t,t.replace("/?","?")]:t.endsWith("/*")?[t,t.slice(0,-2),t.slice(0,-2)+"?*"]:t},matchURLs:function(t,e,i){return n(t,i)===n(e,i)},normalizeMethod:function(t){return t?t.toUpperCase():"GET"},methodAllowsPayload:function(t){return"GET"!==t&&"HEAD"!==t},copy:C,merge:T,mergeDefined:function(...t){const e={};for(let n of t)if(n)for(let t in n){const i=n[t];p(i)&&(e[t]=i)}return e},options:R,parseArgIntoOptions:function(t,e){let n=I(t);return p(t[0])&&(n=C(n),n[e]=t[0]),n},each:a,map:c,flatMap:function(t,e){return V(c(t,e))},mapObject:function(t,e){return c(t,e).reduce((function(t,e){return t[e[0]]=e[1],t}),{})},findResult:P,some:function(t,e){return!!P(t,e)},every:A,find:function(t,e){let n;e=u(e);for(let i of t)if(e(i)){n=i;break}return n},filter:$,reject:function(t,e){return $(t,e=Z(u(e)))},intersect:function(t,e){return $(t,(t=>M(e,t)))},compact:L,compactObject:function(t){return N(t,d)},uniq:function(t){return t.length<2?t:Array.from(new Set(t))},uniqBy:function(t,e){if(t.length<2)return t;e=u(e);const n=new Set;return $(t,(function(t,i){const s=e(t,i);return!n.has(s)&&(n.add(s),!0)}))},last:D,isNull:h,isDefined:p,isUndefined:l,isGiven:d,isMissing:f,isPresent:g,isBlank:m,presence:function(t,e=g){if(e(t))return t},isObject:_,isFunction:v,isString:b,isBoolean:function(t){return"boolean"==typeof t||t instanceof Boolean},isNumber:y,isElement:O,isJQuery:S,isElementish:function(t){var e;return!(!t||!t.addEventListener&&!(null===(e=t[0])||void 0===e?void 0:e.addEventListener))},isPromise:function(t){return _(t)&&v(t.then)},isOptions:w,isArray:x,isFormData:function(t){return t instanceof FormData},isList:E,isRegExp:k,timer:function(t,e){return setTimeout(e,t)},contains:M,containsAll:function(t,e){return A(e,(e=>M(t,e)))},objectContains:function(t,e){return X(e,H(t,Object.keys(e)))},toArray:function(t){return x(t)?t:F(t)},pick:H,pickBy:N,omit:function(t,e){return N(t,((t,n)=>!M(e,n)))},unresolvablePromise:function(){return new Promise(t)},remove:function(t,e){const n=t.indexOf(e);if(n>=0)return t.splice(n,1),e},memoize:function(t){let e,n;return function(...i){return n?e:(n=!0,e=t.apply(this,i))}},pluckKey:U,renameKey:function(t,e,n){return t[n]=U(t,e)},extractOptions:I,extractCallback:function(t){return z(t,v)},noop:t,asyncNoop:function(){return Promise.resolve()},identity:K,escapeHTML:function(t){return t.replace(/[&<>"']/g,(t=>B[t]))},escapeRegExp:function(t){return t.replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")},sequence:function(t){return t=L(t),(...e)=>c(t,(t=>t(...e)))},evalOption:q,evalAutoOption:function(t,e,...n){return"auto"===(t=q(t,...n))&&(t=q(e,...n)),t},flatten:V,newDeferred:function(){let t,e;const n=new Promise((function(n,i){t=n,e=i}));return n.resolve=t,n.reject=e,n},always:function(t,e=K){return t.then(e,e)},isBasicObjectProperty:function(t){return Object.prototype.hasOwnProperty(t)},isCrossOrigin:r,task:function(t){return setTimeout(t)},isEqual:X,parseTokens:function(t,e={}){if(b(t)){if(t=t.trim(),e.json&&/^\[.*]$/.test(t))return JSON.parse(t);{let n=e.separator||"space/or",i=J[n];return t.split(i)}}return j(t)},wrapList:j,wrapValue:function(t,...e){return e[0]instanceof t?e[0]:new t(...e)},uid:function(){return G++},upperCaseFirst:function(t){return t[0].toUpperCase()+t.slice(1)},lowerCaseFirst:function(t){return t[0].toLowerCase()+t.slice(1)},delegate:function(t,e,n){for(let i of e)Object.defineProperty(t,i,{get(){const t=n.call(this);let e=t[i];return v(e)&&(e=e.bind(t)),e},set(t){n.call(this)[i]=t}})},reverse:function(t){return C(t).reverse()},camelToKebabCase:function(t){return t.replace(/[A-Z]/g,(t=>"-"+t.toLowerCase()))},replaceValue:function(t,e,n){return t===e?n:t},sprintf:function(t,...e){return t.replace(Y,(t=>Q(e.shift(),t)))},renameKeys:function(t,e){const n={};for(let i in t)n[e(i)]=t[i];return n},memoizeMethod:function(t,e){for(let n in e){let e=Object.getOwnPropertyDescriptor(t,n).value,i=function(...t){var i;let s=this[i=`__${n}MemoizeCache`]||(this[i]={}),r=JSON.stringify(t);return s[r]||(s[r]=et(e,this,t)),tt(s[r])};t[n]=i}},safeStringifyJSON:function(t){return JSON.stringify(t).replace(/[^\x00-\x7F]/g,(t=>"\\u"+t.charCodeAt(0).toString(16).padStart(4,"0")))},variant:function(t,e={}){let n=Object.create(t);return Object.assign(n,e),n}}}()},4606:(t,e,n)=>{n(573),up.viewport=function(){const t=up.util,e=up.element,n=up.fragment,i=new up.Config((()=>({viewportSelectors:["[up-viewport]","[up-fixed]"],fixedTopSelectors:["[up-fixed~=top]"],fixedBottomSelectors:["[up-fixed~=bottom]"],anchoredRightSelectors:["[up-anchored~=right]","[up-fixed~=top]","[up-fixed~=bottom]","[up-fixed~=right]"],revealSnap:200,revealPadding:0,revealTop:!1,revealMax:()=>.5*window.innerHeight,autoFocusVisible:({element:t,inputDevice:e})=>"key"===e||up.form.isField(t)}))),s=new up.BodyShifter;function r(e,i){var s,r;return i=t.options(i),e=n.get(e,i),(i.layer=up.layer.get(e))||up.fail("Cannot reveal a detached element"),i.peel&&i.layer.peel(),new up.RevealMotion(e,i).start(),(null===(r=(s=up.migrate).formerlyAsync)||void 0===r?void 0:r.call(s,"up.reveal()"))||!0}function o(e,{preventScroll:n,force:s,inputDevice:o,focusVisible:c}={}){if(s&&(e.hasAttribute("tabindex")||-1!==e.tabIndex||e.setAttribute("tabindex","-1")),null!=o||(o=up.event.inputDevice),null!=c||(c="auto"),c=t.evalAutoOption(c,i.autoFocusVisible,{element:e,inputDevice:o}),e.focus({preventScroll:!0,focusVisible:c}),u(e),e.classList.add(c?"up-focus-visible":"up-focus-hidden"),!n)return r(e)}function u(t){null==t||t.classList.remove("up-focus-hidden","up-focus-visible")}function c(t=location.hash,e){let n=v(t,e);if(n)return up.reveal(n,{top:!0})}function a(){return[p().tagName,...i.viewportSelectors].join()}function h(t,e={}){return n.get(t,e).closest(a())}function l(t,i={}){return t=n.get(t,i),e.around(t,a())}function p(){return document.scrollingElement}function f(){return e.root.clientWidth}function d(t){return up.fragment.tryToTarget(t)}function m(e){const i=t.copy(t.extractOptions(e));let s;return i.layer=up.layer.get(i),s=e[0]?[h(e[0],i)]:i.around?l(i.around,i):function(t={}){return n.all(a(),t)}(i),[s,i]}function g(t,e){for(let n of t){const t=d(n);n.scrollTop=e[t]||0}}function v(t,i={}){if(t=null==(s=t)?void 0:s.replace(/^#/,"")){const s=[e.attrSelector("id",t),"a"+e.attrSelector("name",t)].join();return n.get(s,i)}var s}up.compiler(i.selectorFn("anchoredRightSelectors"),(function(t){return s.onAnchoredElementInserted(t)})),up.on("focusin",(function({relatedTarget:t}){u(t)}));const b=["selectionStart","selectionEnd","scrollLeft","scrollTop"];let y=!1;return up.on("scroll",{once:!0,beforeBoot:!0},(()=>y=!0)),up.on("up:framework:boot",(function(){t.task((function(){if(!y)return c()}))})),up.on(window,"hashchange",(()=>c())),{reveal:r,revealHash:c,firstHashTarget:v,config:i,get:h,subtree:function(t,i={}){return t=n.get(t,i),e.subtree(t,a())},around:l,get root(){return p()},rootWidth:f,rootHeight:function(){return e.root.clientHeight},isRoot:function(t){return t===p()},rootScrollbarWidth:function(){return window.innerWidth-f()},saveScroll:function(...t){const[e,n]=m(t),i=n.location||n.layer.location;if(i){const t=function(t){let e={};for(let n of t){let t=d(n);t?e[t]=n.scrollTop:up.warn("up.viewport.saveScroll()","Cannot save scroll positions for untargetable viewport %o",n)}return e}(e);n.layer.lastScrollTops.set(i,t)}},restoreScroll:function(...t){const[e,n]=m(t),{location:i}=n.layer,s=n.layer.lastScrollTops.get(i);return!!s&&(g(e,s),up.puts("up.viewport.restoreScroll()","Restored scroll positions to %o",s),!0)},resetScroll:function(...t){const[e,n]=m(t);g(e,{})},saveFocus:function(t={}){const e=up.layer.get(t),n=t.location||e.location;if(n){const t=up.FocusCapsule.preserve(e);e.lastFocusCapsules.set(n,t)}},restoreFocus:function(t={}){const e=up.layer.get(t),n=t.location||e.location,i=t.layer.lastFocusCapsules.get(n);return!(!i||!i.restore(e)||(up.puts("up.viewport.restoreFocus()",'Restored focus to "%s"',i.target),0))},absolutize:function(n,s={}){var r;const o=h(n).getBoundingClientRect(),u=n.getBoundingClientRect(),c=new up.Rect({left:u.left-o.left,top:u.top-o.top,width:u.width,height:u.height});null===(r=s.afterMeasure)||void 0===r||r.call(s),e.setStyle(n,{position:"static"===n.style.position?"static":"relative",top:"auto",right:"auto",bottom:"auto",left:"auto",width:"100%",height:"100%"});const a=e.createFromSelector("up-bounds");e.insertBefore(n,a),a.appendChild(n);const l=function(t,n){return c.left+=t,c.top+=n,e.setStyle(a,c,"px")};l(0,0);const p=n.getBoundingClientRect();return l(u.left-p.left,u.top-p.top),t.each(function(t=document){const e=["[up-fixed]"].concat(i.fixedTopSelectors).concat(i.fixedBottomSelectors);return t.querySelectorAll(e.join())}(n),e.fixedToAbsolute),{bounds:a,moveBounds:l}},focus:o,tryFocus:function(t,e){return o(t,e),t===document.activeElement},newStateCache:function(){return new up.FIFOCache({capacity:30,normalizeKey:t.matchableURL})},focusedElementWithin:function(t){const e=document.activeElement;if(up.fragment.contains(t,e))return e},copyCursorProps:function(t,e={}){for(let n of b)try{e[n]=t[n]}catch(t){}return e},bodyShifter:s}}(),up.focus=up.viewport.focus,up.reveal=up.viewport.reveal},3507:()=>{window.up={version:"3.9.0"}}},e={};function n(i){var s=e[i];if(void 0!==s)return s.exports;var r=e[i]={exports:{}};return t[i].call(r.exports,r,r.exports,n),r.exports}n(3507),n(8374),n(7924),n(3924),n(6535),n(2811),n(9675),n(376),n(8272),n(4366),n(8010),n(4861),n(3469),n(4504),n(2406),n(3742),n(1653),n(1104),n(5949),n(1279),n(6346),n(3030),n(7948),n(2714),n(1752),n(8228),n(7050),n(9441),n(9489),n(7422),n(2200),n(278),n(9005),n(1569),n(2737),n(3635),n(1906),n(4158),n(3139),n(2214),n(5240),n(665),n(2828),n(2587),n(7031),n(8057),n(4850),n(7956),n(7403),n(6412),n(7965),n(7771),n(86),n(4552),n(5580),n(7101),n(6066),n(6387),n(5390),n(2460),n(7792),n(4308),n(8665),n(3645),n(7782),n(2705),n(606),n(5437),n(7974),n(6413),n(5221),n(2298),n(4517),n(7241),n(2723),n(8720),n(7885),n(4818),n(9634),n(8670),n(3535),n(4453),n(1897),n(8944),n(2667),n(4606),n(4034),n(1647),n(9443),n(3849),n(2851),n(454),n(9615),n(6774),up.framework.onEvaled()})();